import{j as r,a as L}from"./jsx-runtime-9dc53467.js";import{r as y}from"./index-76fb7be0.js";import{d as k}from"./ExitToApp-1a780b73.js";import{S as a}from"./SpinnerButton-901f0c04.js";import"./OrientationBanner-450e6652.js";import"./getEndpoint-ac94413e.js";import{h as E,v as _}from"./ApplicationSessionManager-7024b1a7.js";import{u as w}from"./useGetEntityChallenge-d31154de.js";import{u as B}from"./useGetUserTeams-825ed100.js";import{u as I}from"./useTeamMembers-05aba7f9.js";import{B as j}from"./Box-f6adec47.js";const p=({projectId:s,onError:i,onJoinClick:d,onLeaveClick:l})=>{const{accessToken:m}=E(),t=!!m,{data:o}=_({enabled:t}),{data:e,isLoading:g,error:f}=w(s,{enabled:t}),{data:h,isLoading:b,error:C}=I(e==null?void 0:e.participantTeamId,o==null?void 0:o.ownerId,{enabled:!!e&&!!o}),v=!!h,{data:c,error:x,isLoading:S}=B(e==null?void 0:e.id,20,0,{enabled:!!e&&t}),T=c&&c.results.length>0,u=v&&T,n=f||C||x;return y.useEffect(()=>{n&&i&&i(n)},[n,i]),g||b||S?r(a,{showSpinner:!0,children:"Loading..."}):L(j,{children:[!u&&r(a,{disableElevation:!0,variant:"contained",onClick:()=>m&&d?d():void 0,sx:{color:"white",backgroundColor:"#109488",fontSize:"1.12em",textTransform:"none",padding:"4px 18px",fontWeight:400,":hover":{color:"white",backgroundColor:"#109488"},":active":{color:"white",backgroundColor:"#109488"},":visited":{color:"white",backgroundColor:"#109488"}},children:"Register for this Challenge"}),u&&r(a,{disableElevation:!0,variant:"outlined",endIcon:r(k,{}),onClick:()=>l?l():void 0,sx:{borderColor:"white",color:"white",fontSize:"1.12em",textTransform:"none",padding:"4px 18px",fontWeight:400,":hover":{color:"#172430",borderColor:"#172430"}},children:"Leave Challenge"})]})};try{p.displayName="ChallengeRegisterButton",p.__docgenInfo={description:"",displayName:"ChallengeRegisterButton",props:{projectId:{defaultValue:null,description:"",name:"projectId",required:!0,type:{name:"string"}},onError:{defaultValue:null,description:"",name:"onError",required:!1,type:{name:"((error: SynapseClientError) => void)"}},onJoinClick:{defaultValue:null,description:"",name:"onJoinClick",required:!1,type:{name:"(() => void)"}},onLeaveClick:{defaultValue:null,description:"",name:"onLeaveClick",required:!1,type:{name:"(() => void)"}}}}}catch{}export{p as C};
