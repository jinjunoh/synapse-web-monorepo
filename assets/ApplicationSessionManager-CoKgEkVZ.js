var ki=Object.defineProperty;var Vi=(t,e,r)=>e in t?ki(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var nt=(t,e,r)=>(Vi(t,typeof e!="symbol"?e+"":e,r),r),Er=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)};var f=(t,e,r)=>(Er(t,e,"read from private field"),r?r.call(t):e.get(t)),N=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},S=(t,e,r,n)=>(Er(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r);var zt=(t,e,r,n)=>({set _(s){S(t,e,s,r)},get _(){return f(t,e,n)}}),M=(t,e,r)=>(Er(t,e,"access private method"),r);import{j as U}from"./jsx-runtime-CKrituN3.js";import{r as K,R as V}from"./index-CBqU2yxZ.js";import{g as fs}from"./_commonjsHelpers-BosuxZz1.js";import{ay as ji,v as Hi,E as Wi,az as Rr,aA as Gi,d as ps,Z as gs,aB as ys,U as Es,c as ms,aC as vs,aD as Ts,S as Yi,K as Jt,aE as Pn}from"./SynapseConstants-Dbq7Gtj7.js";import{g as Pt,B as u,P as zi}from"./getEndpoint-CjoHA800.js";import{t as fe}from"./tinycolor-Begke6kS.js";import{c as Ps}from"./createSvgIcon-ClnqzT54.js";import{I as Ji}from"./InfoTwoTone-CBfzdnva.js";import{C as Xi}from"./CheckCircleTwoTone-B5Iaww82.js";import{l as Xt,a as Zi}from"./colorManipulator-CieAV1Z7.js";import{i as eo}from"./inputBaseClasses-DIwNn5yR.js";import{F as to}from"./Fade--kK2ZsE4.js";import{u as ro,N as no,_ as Os,T as On,z as so,p as io,S as oo}from"./createTheme-2XtGYoE4.js";import{_ as ae}from"./emotion-use-insertion-effect-with-fallbacks.browser.esm-BPGUNDjC.js";import{R as ao}from"./index-CJ-wfEIf.js";import{_ as De}from"./inheritsLoose-B7h9gheN.js";import{a1 as uo,G as co,r as lo,s as Rs,E as ho,P as fo,a2 as _s,a3 as po,a4 as go,a5 as yo,K as Wr,x as Eo,a6 as Is,a7 as mo,a8 as vo,b as R,a9 as As,aa as Ss,ab as Gr,ac as Yr,ad as zr,ae as Jr,af as To,i as bs,ag as Ns,ah as Po,N as Oo,T as Ro,O as lr,F as _o,ai as Io,q as Cs,p as Ao,J as So,D as bo}from"./index-C-UbkUMQ.js";import"./OrientationBanner-DFzKDcoJ.js";import{d as Rn}from"./dayjs.min-BIwLhz4I.js";import{d as _n}from"./index-DMoHWj5j.js";import{P as In}from"./index-Dk74W0Oi.js";import{i as Ot}from"./tiny-invariant-CopsF_GD.js";import{F as No}from"./FullWidthAlert-Dm349vLy.js";import{L as Co}from"./Link-BXqr-BaG.js";import{S as Do}from"./Stack-wDqeWMTC.js";import{B as An}from"./Box-qzYP1vnN.js";import{B as wo}from"./Button-BOCcoe4v.js";import{g as Uo,b as Lo,C as Fo}from"./_getTag-7fqy2l2P.js";import{a as xo,d as $o,e as Mo,b as Ko,h as Bo}from"./_Map-W_LbVzGG.js";import{a as Qo}from"./isArray-D3Xc0Edl.js";import{h as qo}from"./StringUtils-D4kDWP8q.js";const oe=Object.freeze(Object.defineProperty({__proto__:null,get SYNAPSE_STORAGE_LOCATION_ID(){return li},get acceptFormData(){return Td},get addEmailAddressStep1(){return Ih},get addEmailAddressStep2(){return Ah},get addFileBatchToDownloadListV2(){return Ri},get addFileToDownloadListV2(){return $l},get addFilesToDownloadListV2(){return Bl},get addTeamMemberAsAuthenticatedUserOrAdmin(){return hl},get addTeamMemberWithToken(){return dl},get addUserFavorite(){return Jc},get bindInvitationToAuthenticatedUser(){return El},get bindOAuthProviderToAccount(){return Ai},get cancelDataAccessRequest(){return ih},get changePasswordWithCurrentPassword(){return Oh},get changePasswordWithToken(){return Rh},get checkUploadComplete(){return ln},get clearDownloadListV2(){return Yd},get complete2FAEnrollment(){return Ic},get consentToOAuth2Request(){return ld},get createACL(){return Ql},get createAccessApproval(){return wd},get createColumnModels(){return _f},get createEntity(){return gi},get createEvaluation(){return Hl},get createEvaluationRound(){return zl},get createFormData(){return pd},get createFormGroup(){return dd},get createLockAccessRequirement(){return Cd},get createManifestFromDownloadListV2(){return Kl},get createMembershipInvitation(){return pl},get createMembershipRequest(){return Tl},get createOAuthClient(){return sd},get createOAuthClientSecret(){return ud},get createPackageFromDownloadListV2(){return Ml},get createPersonalAccessToken(){return Md},get createProfileVerificationSubmission(){return Ph},get createProject(){return Sc},get createRecoveryCodes(){return Ac},get createTeam(){return al},get deleteDownloadList(){return xd},get deleteDownloadListFiles(){return Fd},get deleteEmail(){return Sh},get deleteEntity(){return Wc},get deleteEvaluation(){return Wl},get deleteEvaluationRound(){return Xl},get deleteFormData(){return yd},get deleteMemberFromTeam(){return Pl},get deleteOAuthClient(){return id},get deletePersonalAccessToken(){return Bd},get deleteReply(){return Uh},get deleteSubscription(){return gf},get deleteThread(){return kh},get disableTwoFactorAuthForCurrentUser(){return Rc},get forumSearch(){return Wh},get getAccessApproval(){return Dd},get getAccessRequirement(){return _d},get getAccessRequirementAcl(){return Ad},get getAccessRequirementById(){return Id},get getAccessRequirementStatus(){return bd},get getAccessTokenFromCookie(){return mi},get getActivityForEntity(){return Xh},get getActualFileHandleByIdURL(){return yc},get getAllAccessRequirements(){return Nd},get getAllChallengeTeams(){return rl},get getAllDownloadListActionsRequired(){return Xd},get getAllEntityEvaluations(){return Vd},get getAllOfNextPageTokenPaginatedService(){return dn},get getAllOfPaginatedService(){return tt},get getAllOpenMembershipInvitationsForUser(){return fl},get getAllSubscriptions(){return df},get getAllSynapseUserGeoData(){return cf},get getAnnotationColumnModels(){return Af},get getApprovedSubmissionInfo(){return Jh},get getAsyncResultBodyFromJobId(){return Re},get getAsyncResultFromJobId(){return on},get getAuthenticatedOn(){return cd},get getAvailableFilesToDownload(){return zd},get getBulkFiles(){return Bc},get getCertifyQuiz(){return nf},get getChallengeTeams(){return tl},get getCurrentUserTwoFactorEnrollmentStatus(){return Oc},get getDOIAssociation(){return vf},get getDataAccessRequestForUpdate(){return rh},get getDefaultColumnModels(){return If},get getDefaultUploadDestination(){return Ef},get getDockerTag(){return Of},get getDownloadFromTableRequest(){return gc},get getDownloadList(){return Ud},get getDownloadListActionsRequired(){return _i},get getDownloadListStatistics(){return Jd},get getDownloadOrder(){return Ld},get getEntity(){return Qc},get getEntityACL(){return kd},get getEntityAlias(){return kc},get getEntityBundleV2(){return Gc},get getEntityChallenge(){return ol},get getEntityChildren(){return Mc},get getEntityDownloadActionsRequired(){return Pf},get getEntityHeader(){return Vc},get getEntityHeaders(){return an},get getEntityHeadersByIds(){return qc},get getEntityJson(){return fh},get getEntityPath(){return Hd},get getEntityPermissions(){return jd},get getEntityVersions(){return Wd},get getEntityWiki(){return Yc},get getEvaluation(){return Vl},get getEvaluationPermissions(){return kl},get getEvaluationRound(){return Gl},get getEvaluationRoundsList(){return Yl},get getEvaluationSubmissions(){return Zl},get getEvaluations(){return xc},get getFileHandleById(){return hi},get getFileHandleByIdURL(){return fi},get getFileHandleContent(){return Oi},get getFileHandleContentFromID(){return Fl},get getFileResult(){return xl},get getFiles(){return yi},get getFormACL(){return hd},get getForum(){return Nh},get getForumMetadata(){return Hh},get getForumThreads(){return Gh},get getFullQueryTableResults(){return mc},get getGoogleMapsApiKey(){return uf},get getGroupHeadersBatch(){return Fc},get getInviteeVerificationSignedToken(){return yl},get getIsUserMemberOfTeam(){return ml},get getItemsInTrashCan(){return ef},get getMembershipInvitation(){return gl},get getMembershipStatus(){return vl},get getModerators(){return jh},get getMyProjects(){return Qd},get getMyUserBundle(){return Dc},get getNotificationEmail(){return gh},get getOAuth2(){return nd},get getOAuth2Client(){return rd},get getOAuth2RequestDescription(){return ed},get getOpenMembershipInvitationsForUser(){return Ei},get getPassingRecord(){return el},get getPersonalAccessTokenRecords(){return Kd},get getPortalFileHandleServletUrl(){return Tf},get getPresignedUrlForWikiAttachment(){return bl},get getPrincipalAliasRequest(){return Dl},get getProfilePicPreviewPresignedUrl(){return Zh},get getProjectStatistics(){return Od},get getQueryTableAsyncJobResults(){return Ec},get getQueryTableResults(){return Mr},get getReplies(){return Lh},get getReply(){return Ch},get getReplyMessageUrl(){return Fh},get getResearchProject(){return th},get getRestrictionInformation(){return Rd},get getRootURL(){return di},get getSchema(){return lh},get getSchemaBinding(){return uh},get getSchemaValidationResults(){return ch},get getSubjects(){return Rf},get getSubmissionById(){return oh},get getSubmissionEligibility(){return sl},get getSubmissionTeams(){return nl},get getSubscribers(){return ff},get getSubscription(){return hf},get getSynapseTeamGeoData(){return lf},get getTeam(){return Ol},get getTeamAccessRequirements(){return cl},get getTeamList(){return Rl},get getTeamMembers(){return ll},get getThread(){return Mh},get getThreadMessageUrl(){return Kh},get getUploadDestinationForStorageLocation(){return mf},get getUseUtcTimeFromCookie(){return Cl},get getUserBundle(){return Cc},get getUserChallenges(){return Zc},get getUserFavorites(){return zc},get getUserGroupHeaders(){return Uc},get getUserProfile(){return bc},get getUserProfileById(){return Nc},get getUserProfiles(){return $c},get getUserProjects(){return qd},get getUserTeamList(){return ul},get getValidationSchema(){return dh},get getVersion(){return fc},get getWikiAttachmentsFromEntity(){return Al},get getWikiAttachmentsFromEvaluation(){return Sl},get getWikiPageKeyForAccessRequirement(){return Il},get getWikiPageKeyForEntity(){return _l},get hasAccessToEntity(){return hh},get hasUserAuthorizedOAuthClient(){return td},get isAliasAvailable(){return yh},get isInSynapseExperimentalMode(){return Nl},get isOAuthClientReverificationRequired(){return ad},get listFormData(){return md},get listFormDataAsFormAdmin(){return vd},get login(){return vc},get loginWith2fa(){return Tc},get lookupChildEntity(){return Kc},get oAuthRegisterAccountStep2(){return Ii},get oAuthSessionRequest(){return pi},get oAuthUrlRequest(){return Pc},get pinThread(){return xh},get postCertifiedUserTestResponse(){return sf},get postReply(){return Dh},get postSubscription(){return pf},get postSubscriptionList(){return yf},get postThread(){return Bh},get postUserGroupHeadersWithAlias(){return Lc},get purgeFromTrashCan(){return rf},get putReply(){return wh},get putThreadMessage(){return qh},get putThreadTitle(){return Qh},get registerAccountStep1(){return Eh},get registerAccountStep2(){return mh},get registerChallengeTeam(){return il},get rejectFormData(){return Pd},get removeItemFromDownloadListV2(){return Zd},get removeUserFavorite(){return Xc},get resetPassword(){return _h},get restoreFromTrashCan(){return tf},get restoreThread(){return Vh},get searchAccessApprovals(){return Yh},get searchAccessRequirements(){return Sd},get searchAccessSubmission(){return zh},get searchEntities(){return Gd},get setAccessTokenCookie(){return cn},get signOut(){return wl},get signSynapseTermsOfUse(){return Th},get start2FAEnrollment(){return _c},get startMultipartUpload(){return Pi},get submitDataAccessRequest(){return sh},get submitFormData(){return Ed},get submitToEvaluation(){return ql},get unPinThread(){return $h},get unbindOAuthProviderToAccount(){return vh},get updateDataAccessRequest(){return nh},get updateEntity(){return Hc},get updateEntityACL(){return jc},get updateEntityJson(){return ph},get updateEvaluation(){return jl},get updateEvaluationRound(){return Jl},get updateFormACL(){return fd},get updateFormData(){return gd},get updateMyUserProfile(){return wc},get updateNotificationEmail(){return bh},get updateOAuthClient(){return od},get updateResearchProject(){return eh},get updateSubmissionStatus(){return ah},get updateTable(){return $d},get uploadFile(){return Ul},get validateDefiningSql(){return pc}},Symbol.toStringTag,{value:"Module"})),ko=K.createContext(null),Ds=ko;function ws(){return K.useContext(Ds)}const Vo=typeof Symbol=="function"&&Symbol.for,jo=Vo?Symbol.for("mui.nested"):"__THEME_NESTED__";function Ho(t,e){return typeof e=="function"?e(t):ae({},t,e)}function Wo(t){const{children:e,theme:r}=t,n=ws(),s=K.useMemo(()=>{const i=n===null?r:Ho(n,r);return i!=null&&(i[jo]=n!==null),i},[r,n]);return U.jsx(Ds.Provider,{value:s,children:e})}const Sn={};function bn(t,e,r,n=!1){return K.useMemo(()=>{const s=t&&e[t]||e;if(typeof r=="function"){const i=r(s),c=t?ae({},e,{[t]:i}):i;return n?()=>c:c}return t?ae({},e,{[t]:r}):ae({},e,r)},[t,e,r,n])}function Go(t){const{children:e,theme:r,themeId:n}=t,s=ro(Sn),i=ws()||Sn,c=bn(n,s,r),l=bn(n,i,r,!0),m=c.direction==="rtl";return U.jsx(Wo,{theme:l,children:U.jsx(no.Provider,{value:c,children:U.jsx(ao,{value:m,children:e})})})}const Yo=["theme"];function zo(t){let{theme:e}=t,r=Os(t,Yo);const n=e[On];return U.jsx(Go,ae({},r,{themeId:n?On:void 0,theme:n||e}))}var Jo="[object Map]",Xo="[object Set]",Zo=Object.prototype,ea=Zo.hasOwnProperty;function ta(t){if(t==null)return!0;if(xo(t)&&(Qo(t)||typeof t=="string"||typeof t.splice=="function"||$o(t)||Mo(t)||Ko(t)))return!t.length;var e=Uo(t);if(e==Jo||e==Xo)return!t.size;if(Bo(t))return!Lo(t).length;for(var r in t)if(ea.call(t,r))return!1;return!0}const ra=Ps([U.jsx("path",{d:"M12 4c-4.42 0-8 3.58-8 8s3.58 8 8 8 8-3.58 8-8-3.58-8-8-8m1 13h-2v-2h2zm0-4h-2V7h2z",opacity:".3"},"0"),U.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8m-1-5h2v2h-2zm0-8h2v6h-2z"},"1")],"ErrorTwoTone"),na=Ps([U.jsx("path",{d:"M12 4c-4.41 0-8 3.59-8 8s3.59 8 8 8 8-3.59 8-8-3.59-8-8-8m4 10.59L14.59 16 12 13.41 9.41 16 8 14.59 10.59 12 8 9.41 9.41 8 12 10.59 14.59 8 16 9.41 13.41 12z",opacity:".3"},"0"),U.jsx("path",{d:"M14.59 8 12 10.59 9.41 8 8 9.41 10.59 12 8 14.59 9.41 16 12 13.41 14.59 16 16 14.59 13.41 12 16 9.41zM12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8"},"1")],"HighlightOffTwoTone");var Gt=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Tt=typeof window>"u"||"Deno"in window;function me(){}function sa(t,e){return typeof t=="function"?t(e):t}function _r(t){return typeof t=="number"&&t>=0&&t!==1/0}function Us(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Nn(t,e){const{type:r="all",exact:n,fetchStatus:s,predicate:i,queryKey:c,stale:l}=t;if(c){if(n){if(e.queryHash!==Xr(c,e.options))return!1}else if(!Ut(e.queryKey,c))return!1}if(r!=="all"){const m=e.isActive();if(r==="active"&&!m||r==="inactive"&&m)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||typeof s<"u"&&s!==e.state.fetchStatus||i&&!i(e))}function Cn(t,e){const{exact:r,status:n,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(r){if(wt(e.options.mutationKey)!==wt(i))return!1}else if(!Ut(e.options.mutationKey,i))return!1}return!(n&&e.state.status!==n||s&&!s(e))}function Xr(t,e){return((e==null?void 0:e.queryKeyHashFn)||wt)(t)}function wt(t){return JSON.stringify(t,(e,r)=>Ar(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function Ut(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(r=>!Ut(t[r],e[r])):!1}function Ls(t,e){if(t===e)return t;const r=Dn(t)&&Dn(e);if(r||Ar(t)&&Ar(e)){const n=r?t:Object.keys(t),s=n.length,i=r?e:Object.keys(e),c=i.length,l=r?[]:{};let m=0;for(let g=0;g<c;g++){const E=r?g:i[g];!r&&t[E]===void 0&&e[E]===void 0&&n.includes(E)?(l[E]=void 0,m++):(l[E]=Ls(t[E],e[E]),l[E]===t[E]&&t[E]!==void 0&&m++)}return s===c&&m===s?t:l}return e}function Ir(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function Dn(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Ar(t){if(!wn(t))return!1;const e=t.constructor;if(typeof e>"u")return!0;const r=e.prototype;return!(!wn(r)||!r.hasOwnProperty("isPrototypeOf"))}function wn(t){return Object.prototype.toString.call(t)==="[object Object]"}function ia(t){return new Promise(e=>{setTimeout(e,t)})}function Sr(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?Ls(t,e):e}function oa(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function aa(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var He,Fe,it,ss,ua=(ss=class extends Gt{constructor(){super();N(this,He,void 0);N(this,Fe,void 0);N(this,it,void 0);S(this,it,e=>{if(!Tt&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){f(this,Fe)||this.setEventListener(f(this,it))}onUnsubscribe(){var e;this.hasListeners()||((e=f(this,Fe))==null||e.call(this),S(this,Fe,void 0))}setEventListener(e){var r;S(this,it,e),(r=f(this,Fe))==null||r.call(this),S(this,Fe,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){f(this,He)!==e&&(S(this,He,e),this.onFocus())}onFocus(){this.listeners.forEach(e=>{e()})}isFocused(){var e;return typeof f(this,He)=="boolean"?f(this,He):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},He=new WeakMap,Fe=new WeakMap,it=new WeakMap,ss),sr=new ua,ot,xe,at,is,ca=(is=class extends Gt{constructor(){super();N(this,ot,!0);N(this,xe,void 0);N(this,at,void 0);S(this,at,e=>{if(!Tt&&window.addEventListener){const r=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){f(this,xe)||this.setEventListener(f(this,at))}onUnsubscribe(){var e;this.hasListeners()||((e=f(this,xe))==null||e.call(this),S(this,xe,void 0))}setEventListener(e){var r;S(this,at,e),(r=f(this,xe))==null||r.call(this),S(this,xe,e(this.setOnline.bind(this)))}setOnline(e){f(this,ot)!==e&&(S(this,ot,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return f(this,ot)}},ot=new WeakMap,xe=new WeakMap,at=new WeakMap,is),ir=new ca;function la(t){return Math.min(1e3*2**t,3e4)}function dr(t){return(t??"online")==="online"?ir.isOnline():!0}var Fs=class{constructor(t){this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function mr(t){return t instanceof Fs}function xs(t){let e=!1,r=0,n=!1,s,i,c;const l=new Promise((O,p)=>{i=O,c=p}),m=O=>{var p;n||(P(new Fs(O)),(p=t.abort)==null||p.call(t))},g=()=>{e=!0},E=()=>{e=!1},T=()=>!sr.isFocused()||t.networkMode!=="always"&&!ir.isOnline(),v=O=>{var p;n||(n=!0,(p=t.onSuccess)==null||p.call(t,O),s==null||s(),i(O))},P=O=>{var p;n||(n=!0,(p=t.onError)==null||p.call(t,O),s==null||s(),c(O))},A=()=>new Promise(O=>{var p;s=y=>{const a=n||!T();return a&&O(y),a},(p=t.onPause)==null||p.call(t)}).then(()=>{var O;s=void 0,n||(O=t.onContinue)==null||O.call(t)}),D=()=>{if(n)return;let O;try{O=t.fn()}catch(p){O=Promise.reject(p)}Promise.resolve(O).then(v).catch(p=>{var d;if(n)return;const y=t.retry??(Tt?0:3),a=t.retryDelay??la,o=typeof a=="function"?a(r,p):a,h=y===!0||typeof y=="number"&&r<y||typeof y=="function"&&y(r,p);if(e||!h){P(p);return}r++,(d=t.onFail)==null||d.call(t,r,p),ia(o).then(()=>{if(T())return A()}).then(()=>{e?P(p):D()})})};return dr(t.networkMode)?D():A().then(D),{promise:l,cancel:m,continue:()=>(s==null?void 0:s())?l:Promise.resolve(),cancelRetry:g,continueRetry:E}}function da(){let t=[],e=0,r=v=>{v()},n=v=>{v()},s=v=>setTimeout(v,0);const i=v=>{s=v},c=v=>{let P;e++;try{P=v()}finally{e--,e||g()}return P},l=v=>{e?t.push(v):s(()=>{r(v)})},m=v=>(...P)=>{l(()=>{v(...P)})},g=()=>{const v=t;t=[],v.length&&s(()=>{n(()=>{v.forEach(P=>{r(P)})})})};return{batch:c,batchCalls:m,schedule:l,setNotifyFunction:v=>{r=v},setBatchNotifyFunction:v=>{n=v},setScheduler:i}}var Z=da(),We,os,$s=(os=class{constructor(){N(this,We,void 0)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),_r(this.gcTime)&&S(this,We,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Tt?1/0:5*60*1e3))}clearGcTimeout(){f(this,We)&&(clearTimeout(f(this,We)),S(this,We,void 0))}},We=new WeakMap,os),ut,ct,ge,$e,ye,J,xt,Ge,lt,tr,Pe,Ce,as,ha=(as=class extends $s{constructor(e){super();N(this,lt);N(this,Pe);N(this,ut,void 0);N(this,ct,void 0);N(this,ge,void 0);N(this,$e,void 0);N(this,ye,void 0);N(this,J,void 0);N(this,xt,void 0);N(this,Ge,void 0);S(this,Ge,!1),S(this,xt,e.defaultOptions),M(this,lt,tr).call(this,e.options),S(this,J,[]),S(this,ge,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,S(this,ut,e.state||fa(this.options)),this.state=f(this,ut),this.scheduleGc()}get meta(){return this.options.meta}optionalRemove(){!f(this,J).length&&this.state.fetchStatus==="idle"&&f(this,ge).remove(this)}setData(e,r){const n=Sr(this.state.data,e,this.options);return M(this,Pe,Ce).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(e,r){M(this,Pe,Ce).call(this,{type:"setState",state:e,setStateOptions:r})}cancel(e){var n;const r=f(this,$e);return(n=f(this,ye))==null||n.cancel(e),r?r.then(me).catch(me):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(f(this,ut))}isActive(){return f(this,J).some(e=>e.options.enabled!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||f(this,J).some(e=>e.getCurrentResult().isStale)}isStaleByTime(e=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!Us(this.state.dataUpdatedAt,e)}onFocus(){var r;const e=f(this,J).find(n=>n.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(r=f(this,ye))==null||r.continue()}onOnline(){var r;const e=f(this,J).find(n=>n.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(r=f(this,ye))==null||r.continue()}addObserver(e){f(this,J).includes(e)||(f(this,J).push(e),this.clearGcTimeout(),f(this,ge).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){f(this,J).includes(e)&&(S(this,J,f(this,J).filter(r=>r!==e)),f(this,J).length||(f(this,ye)&&(f(this,Ge)?f(this,ye).cancel({revert:!0}):f(this,ye).cancelRetry()),this.scheduleGc()),f(this,ge).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return f(this,J).length}invalidate(){this.state.isInvalidated||M(this,Pe,Ce).call(this,{type:"invalidate"})}fetch(e,r){var g,E,T,v;if(this.state.fetchStatus!=="idle"){if(this.state.dataUpdatedAt&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(f(this,$e))return(g=f(this,ye))==null||g.continueRetry(),f(this,$e)}if(e&&M(this,lt,tr).call(this,e),!this.options.queryFn){const P=f(this,J).find(A=>A.options.queryFn);P&&M(this,lt,tr).call(this,P.options)}const n=new AbortController,s={queryKey:this.queryKey,meta:this.meta},i=P=>{Object.defineProperty(P,"signal",{enumerable:!0,get:()=>(S(this,Ge,!0),n.signal)})};i(s);const c=()=>this.options.queryFn?(S(this,Ge,!1),this.options.persister?this.options.persister(this.options.queryFn,s,this):this.options.queryFn(s)):Promise.reject(new Error(`Missing queryFn: '${this.options.queryHash}'`)),l={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:c};i(l),(E=this.options.behavior)==null||E.onFetch(l,this),S(this,ct,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((T=l.fetchOptions)==null?void 0:T.meta))&&M(this,Pe,Ce).call(this,{type:"fetch",meta:(v=l.fetchOptions)==null?void 0:v.meta});const m=P=>{var A,D,O,p;mr(P)&&P.silent||M(this,Pe,Ce).call(this,{type:"error",error:P}),mr(P)||((D=(A=f(this,ge).config).onError)==null||D.call(A,P,this),(p=(O=f(this,ge).config).onSettled)==null||p.call(O,this.state.data,P,this)),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return S(this,ye,xs({fn:l.fetchFn,abort:n.abort.bind(n),onSuccess:P=>{var A,D,O,p;if(typeof P>"u"){m(new Error(`${this.queryHash} data is undefined`));return}this.setData(P),(D=(A=f(this,ge).config).onSuccess)==null||D.call(A,P,this),(p=(O=f(this,ge).config).onSettled)==null||p.call(O,P,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:m,onFail:(P,A)=>{M(this,Pe,Ce).call(this,{type:"failed",failureCount:P,error:A})},onPause:()=>{M(this,Pe,Ce).call(this,{type:"pause"})},onContinue:()=>{M(this,Pe,Ce).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode})),S(this,$e,f(this,ye).promise),f(this,$e)}},ut=new WeakMap,ct=new WeakMap,ge=new WeakMap,$e=new WeakMap,ye=new WeakMap,J=new WeakMap,xt=new WeakMap,Ge=new WeakMap,lt=new WeakSet,tr=function(e){this.options={...f(this,xt),...e},this.updateGcTime(this.options.gcTime)},Pe=new WeakSet,Ce=function(e){const r=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:e.meta??null,fetchStatus:dr(this.options.networkMode)?"fetching":"paused",...!n.dataUpdatedAt&&{error:null,status:"pending"}};case"success":return{...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return mr(s)&&s.revert&&f(this,ct)?{...f(this,ct),fetchStatus:"idle"}:{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=r(this.state),Z.batch(()=>{f(this,J).forEach(n=>{n.onQueryUpdate()}),f(this,ge).notify({query:this,type:"updated",action:e})})},as);function fa(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=typeof e<"u",n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Ie,us,pa=(us=class extends Gt{constructor(e={}){super();N(this,Ie,void 0);this.config=e,S(this,Ie,new Map)}build(e,r,n){const s=r.queryKey,i=r.queryHash??Xr(s,r);let c=this.get(i);return c||(c=new ha({cache:this,queryKey:s,queryHash:i,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(s)}),this.add(c)),c}add(e){f(this,Ie).has(e.queryHash)||(f(this,Ie).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=f(this,Ie).get(e.queryHash);r&&(e.destroy(),r===e&&f(this,Ie).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Z.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return f(this,Ie).get(e)}getAll(){return[...f(this,Ie).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(n=>Nn(r,n))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(n=>Nn(e,n)):r}notify(e){Z.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){Z.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Z.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Ie=new WeakMap,us),Ae,$t,le,dt,Se,Le,cs,ga=(cs=class extends $s{constructor(e){super();N(this,Se);N(this,Ae,void 0);N(this,$t,void 0);N(this,le,void 0);N(this,dt,void 0);this.mutationId=e.mutationId,S(this,$t,e.defaultOptions),S(this,le,e.mutationCache),S(this,Ae,[]),this.state=e.state||ya(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options={...f(this,$t),...e},this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){f(this,Ae).includes(e)||(f(this,Ae).push(e),this.clearGcTimeout(),f(this,le).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){S(this,Ae,f(this,Ae).filter(r=>r!==e)),this.scheduleGc(),f(this,le).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){f(this,Ae).length||(this.state.status==="pending"?this.scheduleGc():f(this,le).remove(this))}continue(){var e;return((e=f(this,dt))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var s,i,c,l,m,g,E,T,v,P,A,D,O,p,y,a,o,h,d,b;const r=()=>(S(this,dt,xs({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(C,q)=>{M(this,Se,Le).call(this,{type:"failed",failureCount:C,error:q})},onPause:()=>{M(this,Se,Le).call(this,{type:"pause"})},onContinue:()=>{M(this,Se,Le).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode})),f(this,dt).promise),n=this.state.status==="pending";try{if(!n){M(this,Se,Le).call(this,{type:"pending",variables:e}),await((i=(s=f(this,le).config).onMutate)==null?void 0:i.call(s,e,this));const q=await((l=(c=this.options).onMutate)==null?void 0:l.call(c,e));q!==this.state.context&&M(this,Se,Le).call(this,{type:"pending",context:q,variables:e})}const C=await r();return await((g=(m=f(this,le).config).onSuccess)==null?void 0:g.call(m,C,e,this.state.context,this)),await((T=(E=this.options).onSuccess)==null?void 0:T.call(E,C,e,this.state.context)),await((P=(v=f(this,le).config).onSettled)==null?void 0:P.call(v,C,null,this.state.variables,this.state.context,this)),await((D=(A=this.options).onSettled)==null?void 0:D.call(A,C,null,e,this.state.context)),M(this,Se,Le).call(this,{type:"success",data:C}),C}catch(C){try{throw await((p=(O=f(this,le).config).onError)==null?void 0:p.call(O,C,e,this.state.context,this)),await((a=(y=this.options).onError)==null?void 0:a.call(y,C,e,this.state.context)),await((h=(o=f(this,le).config).onSettled)==null?void 0:h.call(o,void 0,C,this.state.variables,this.state.context,this)),await((b=(d=this.options).onSettled)==null?void 0:b.call(d,void 0,C,e,this.state.context)),C}finally{M(this,Se,Le).call(this,{type:"error",error:C})}}}},Ae=new WeakMap,$t=new WeakMap,le=new WeakMap,dt=new WeakMap,Se=new WeakSet,Le=function(e){const r=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!dr(this.options.networkMode),status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Z.batch(()=>{f(this,Ae).forEach(n=>{n.onMutationUpdate(e)}),f(this,le).notify({mutation:this,type:"updated",action:e})})},cs);function ya(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ee,Mt,Ye,ls,Ea=(ls=class extends Gt{constructor(e={}){super();N(this,Ee,void 0);N(this,Mt,void 0);N(this,Ye,void 0);this.config=e,S(this,Ee,[]),S(this,Mt,0)}build(e,r,n){const s=new ga({mutationCache:this,mutationId:++zt(this,Mt)._,options:e.defaultMutationOptions(r),state:n});return this.add(s),s}add(e){f(this,Ee).push(e),this.notify({type:"added",mutation:e})}remove(e){S(this,Ee,f(this,Ee).filter(r=>r!==e)),this.notify({type:"removed",mutation:e})}clear(){Z.batch(()=>{f(this,Ee).forEach(e=>{this.remove(e)})})}getAll(){return f(this,Ee)}find(e){const r={exact:!0,...e};return f(this,Ee).find(n=>Cn(r,n))}findAll(e={}){return f(this,Ee).filter(r=>Cn(e,r))}notify(e){Z.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){return S(this,Ye,(f(this,Ye)??Promise.resolve()).then(()=>{const e=f(this,Ee).filter(r=>r.state.isPaused);return Z.batch(()=>e.reduce((r,n)=>r.then(()=>n.continue().catch(me)),Promise.resolve()))}).then(()=>{S(this,Ye,void 0)})),f(this,Ye)}},Ee=new WeakMap,Mt=new WeakMap,Ye=new WeakMap,ls);function ma(t){return{onFetch:(e,r)=>{const n=async()=>{var A,D,O,p,y;const s=e.options,i=(O=(D=(A=e.fetchOptions)==null?void 0:A.meta)==null?void 0:D.fetchMore)==null?void 0:O.direction,c=((p=e.state.data)==null?void 0:p.pages)||[],l=((y=e.state.data)==null?void 0:y.pageParams)||[],m={pages:[],pageParams:[]};let g=!1;const E=a=>{Object.defineProperty(a,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},T=e.options.queryFn||(()=>Promise.reject(new Error(`Missing queryFn: '${e.options.queryHash}'`))),v=async(a,o,h)=>{if(g)return Promise.reject();if(o==null&&a.pages.length)return Promise.resolve(a);const d={queryKey:e.queryKey,pageParam:o,direction:h?"backward":"forward",meta:e.options.meta};E(d);const b=await T(d),{maxPages:C}=e.options,q=h?aa:oa;return{pages:q(a.pages,b,C),pageParams:q(a.pageParams,o,C)}};let P;if(i&&c.length){const a=i==="backward",o=a?Ms:br,h={pages:c,pageParams:l},d=o(s,h);P=await v(h,d,a)}else{P=await v(m,l[0]??s.initialPageParam);const a=t??c.length;for(let o=1;o<a;o++){const h=br(s,P);P=await v(P,h)}}return P};e.options.persister?e.fetchFn=()=>{var s,i;return(i=(s=e.options).persister)==null?void 0:i.call(s,n,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=n}}}function br(t,{pages:e,pageParams:r}){const n=e.length-1;return t.getNextPageParam(e[n],e,r[n],r)}function Ms(t,{pages:e,pageParams:r}){var n;return(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,r[0],r)}function sg(t,e){return e?br(t,e)!=null:!1}function ig(t,e){return!e||!t.getPreviousPageParam?!1:Ms(t,e)!=null}var W,Me,Ke,ht,ft,Be,pt,gt,ds,va=(ds=class{constructor(t={}){N(this,W,void 0);N(this,Me,void 0);N(this,Ke,void 0);N(this,ht,void 0);N(this,ft,void 0);N(this,Be,void 0);N(this,pt,void 0);N(this,gt,void 0);S(this,W,t.queryCache||new pa),S(this,Me,t.mutationCache||new Ea),S(this,Ke,t.defaultOptions||{}),S(this,ht,new Map),S(this,ft,new Map),S(this,Be,0)}mount(){zt(this,Be)._++,f(this,Be)===1&&(S(this,pt,sr.subscribe(()=>{sr.isFocused()&&(this.resumePausedMutations(),f(this,W).onFocus())})),S(this,gt,ir.subscribe(()=>{ir.isOnline()&&(this.resumePausedMutations(),f(this,W).onOnline())})))}unmount(){var t,e;zt(this,Be)._--,f(this,Be)===0&&((t=f(this,pt))==null||t.call(this),S(this,pt,void 0),(e=f(this,gt))==null||e.call(this),S(this,gt,void 0))}isFetching(t){return f(this,W).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return f(this,Me).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=f(this,W).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);return e!==void 0?Promise.resolve(e):this.fetchQuery(t)}getQueriesData(t){return this.getQueryCache().findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),s=f(this,W).get(n.queryHash),i=s==null?void 0:s.state.data,c=sa(e,i);if(!(typeof c>"u"))return f(this,W).build(this,n).setData(c,{...r,manual:!0})}setQueriesData(t,e,r){return Z.batch(()=>this.getQueryCache().findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=f(this,W).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=f(this,W);Z.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=f(this,W),n={type:"active",...t};return Z.batch(()=>(r.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries(n,e)))}cancelQueries(t={},e={}){const r={revert:!0,...e},n=Z.batch(()=>f(this,W).findAll(t).map(s=>s.cancel(r)));return Promise.all(n).then(me).catch(me)}invalidateQueries(t={},e={}){return Z.batch(()=>{if(f(this,W).findAll(t).forEach(n=>{n.invalidate()}),t.refetchType==="none")return Promise.resolve();const r={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(r,e)})}refetchQueries(t={},e){const r={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},n=Z.batch(()=>f(this,W).findAll(t).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,r);return r.throwOnError||(i=i.catch(me)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(me)}fetchQuery(t){const e=this.defaultQueryOptions(t);typeof e.retry>"u"&&(e.retry=!1);const r=f(this,W).build(this,e);return r.isStaleByTime(e.staleTime)?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(me).catch(me)}fetchInfiniteQuery(t){return t.behavior=ma(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(me).catch(me)}resumePausedMutations(){return f(this,Me).resumePausedMutations()}getQueryCache(){return f(this,W)}getMutationCache(){return f(this,Me)}getDefaultOptions(){return f(this,Ke)}setDefaultOptions(t){S(this,Ke,t)}setQueryDefaults(t,e){f(this,ht).set(wt(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...f(this,ht).values()];let r={};return e.forEach(n=>{Ut(t,n.queryKey)&&(r={...r,...n.defaultOptions})}),r}setMutationDefaults(t,e){f(this,ft).set(wt(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...f(this,ft).values()];let r={};return e.forEach(n=>{Ut(t,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...f(this,Ke).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Xr(e.queryKey,e)),typeof e.refetchOnReconnect>"u"&&(e.refetchOnReconnect=e.networkMode!=="always"),typeof e.throwOnError>"u"&&(e.throwOnError=!!e.suspense),typeof e.networkMode>"u"&&e.persister&&(e.networkMode="offlineFirst"),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...f(this,Ke).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){f(this,W).clear(),f(this,Me).clear()}},W=new WeakMap,Me=new WeakMap,Ke=new WeakMap,ht=new WeakMap,ft=new WeakMap,Be=new WeakMap,pt=new WeakMap,gt=new WeakMap,ds),ie,j,Kt,ne,ze,yt,be,Bt,Et,mt,Je,Xe,Qe,vt,Ze,Nt,Qt,Nr,qt,Cr,kt,Dr,Vt,wr,jt,Ur,Ht,Lr,Wt,Fr,cr,Ks,hs,Ta=(hs=class extends Gt{constructor(e,r){super();N(this,Ze);N(this,Qt);N(this,qt);N(this,kt);N(this,Vt);N(this,jt);N(this,Ht);N(this,Wt);N(this,cr);N(this,ie,void 0);N(this,j,void 0);N(this,Kt,void 0);N(this,ne,void 0);N(this,ze,void 0);N(this,yt,void 0);N(this,be,void 0);N(this,Bt,void 0);N(this,Et,void 0);N(this,mt,void 0);N(this,Je,void 0);N(this,Xe,void 0);N(this,Qe,void 0);N(this,vt,new Set);this.options=r,S(this,ie,e),S(this,be,null),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(f(this,j).addObserver(this),Un(f(this,j),this.options)?M(this,Ze,Nt).call(this):this.updateResult(),M(this,Vt,wr).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return xr(f(this,j),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return xr(f(this,j),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,M(this,jt,Ur).call(this),M(this,Ht,Lr).call(this),f(this,j).removeObserver(this)}setOptions(e,r){const n=this.options,s=f(this,j);if(this.options=f(this,ie).defaultQueryOptions(e),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");M(this,Wt,Fr).call(this),Ir(this.options,n)||f(this,ie).getQueryCache().notify({type:"observerOptionsUpdated",query:f(this,j),observer:this});const i=this.hasListeners();i&&Ln(f(this,j),s,this.options,n)&&M(this,Ze,Nt).call(this),this.updateResult(r),i&&(f(this,j)!==s||this.options.enabled!==n.enabled||this.options.staleTime!==n.staleTime)&&M(this,Qt,Nr).call(this);const c=M(this,qt,Cr).call(this);i&&(f(this,j)!==s||this.options.enabled!==n.enabled||c!==f(this,Qe))&&M(this,kt,Dr).call(this,c)}getOptimisticResult(e){const r=f(this,ie).getQueryCache().build(f(this,ie),e),n=this.createResult(r,e);return Oa(this,n)&&(S(this,ne,n),S(this,yt,this.options),S(this,ze,f(this,j).state)),n}getCurrentResult(){return f(this,ne)}trackResult(e){const r={};return Object.keys(e).forEach(n=>{Object.defineProperty(r,n,{configurable:!1,enumerable:!0,get:()=>(f(this,vt).add(n),e[n])})}),r}getCurrentQuery(){return f(this,j)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const r=f(this,ie).defaultQueryOptions(e),n=f(this,ie).getQueryCache().build(f(this,ie),r);return n.isFetchingOptimistic=!0,n.fetch().then(()=>this.createResult(n,r))}fetch(e){return M(this,Ze,Nt).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),f(this,ne)))}createResult(e,r){var d;const n=f(this,j),s=this.options,i=f(this,ne),c=f(this,ze),l=f(this,yt),g=e!==n?e.state:f(this,Kt),{state:E}=e;let{error:T,errorUpdatedAt:v,fetchStatus:P,status:A}=E,D=!1,O;if(r._optimisticResults){const b=this.hasListeners(),C=!b&&Un(e,r),q=b&&Ln(e,n,r,s);(C||q)&&(P=dr(e.options.networkMode)?"fetching":"paused",E.dataUpdatedAt||(A="pending")),r._optimisticResults==="isRestoring"&&(P="idle")}if(r.select&&typeof E.data<"u")if(i&&E.data===(c==null?void 0:c.data)&&r.select===f(this,Bt))O=f(this,Et);else try{S(this,Bt,r.select),O=r.select(E.data),O=Sr(i==null?void 0:i.data,O,r),S(this,Et,O),S(this,be,null)}catch(b){S(this,be,b)}else O=E.data;if(typeof r.placeholderData<"u"&&typeof O>"u"&&A==="pending"){let b;if(i!=null&&i.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData))b=i.data;else if(b=typeof r.placeholderData=="function"?r.placeholderData((d=f(this,mt))==null?void 0:d.state.data,f(this,mt)):r.placeholderData,r.select&&typeof b<"u")try{b=r.select(b),S(this,be,null)}catch(C){S(this,be,C)}typeof b<"u"&&(A="success",O=Sr(i==null?void 0:i.data,b,r),D=!0)}f(this,be)&&(T=f(this,be),O=f(this,Et),v=Date.now(),A="error");const p=P==="fetching",y=A==="pending",a=A==="error",o=y&&p;return{status:A,fetchStatus:P,isPending:y,isSuccess:A==="success",isError:a,isInitialLoading:o,isLoading:o,data:O,dataUpdatedAt:E.dataUpdatedAt,error:T,errorUpdatedAt:v,failureCount:E.fetchFailureCount,failureReason:E.fetchFailureReason,errorUpdateCount:E.errorUpdateCount,isFetched:E.dataUpdateCount>0||E.errorUpdateCount>0,isFetchedAfterMount:E.dataUpdateCount>g.dataUpdateCount||E.errorUpdateCount>g.errorUpdateCount,isFetching:p,isRefetching:p&&!y,isLoadingError:a&&E.dataUpdatedAt===0,isPaused:P==="paused",isPlaceholderData:D,isRefetchError:a&&E.dataUpdatedAt!==0,isStale:Zr(e,r),refetch:this.refetch}}updateResult(e){const r=f(this,ne),n=this.createResult(f(this,j),this.options);if(S(this,ze,f(this,j).state),S(this,yt,this.options),f(this,ze).data!==void 0&&S(this,mt,f(this,j)),Ir(n,r))return;S(this,ne,n);const s={},i=()=>{if(!r)return!0;const{notifyOnChangeProps:c}=this.options,l=typeof c=="function"?c():c;if(l==="all"||!l&&!f(this,vt).size)return!0;const m=new Set(l??f(this,vt));return this.options.throwOnError&&m.add("error"),Object.keys(f(this,ne)).some(g=>{const E=g;return f(this,ne)[E]!==r[E]&&m.has(E)})};(e==null?void 0:e.listeners)!==!1&&i()&&(s.listeners=!0),M(this,cr,Ks).call(this,{...s,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&M(this,Vt,wr).call(this)}},ie=new WeakMap,j=new WeakMap,Kt=new WeakMap,ne=new WeakMap,ze=new WeakMap,yt=new WeakMap,be=new WeakMap,Bt=new WeakMap,Et=new WeakMap,mt=new WeakMap,Je=new WeakMap,Xe=new WeakMap,Qe=new WeakMap,vt=new WeakMap,Ze=new WeakSet,Nt=function(e){M(this,Wt,Fr).call(this);let r=f(this,j).fetch(this.options,e);return e!=null&&e.throwOnError||(r=r.catch(me)),r},Qt=new WeakSet,Nr=function(){if(M(this,jt,Ur).call(this),Tt||f(this,ne).isStale||!_r(this.options.staleTime))return;const r=Us(f(this,ne).dataUpdatedAt,this.options.staleTime)+1;S(this,Je,setTimeout(()=>{f(this,ne).isStale||this.updateResult()},r))},qt=new WeakSet,Cr=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(f(this,j)):this.options.refetchInterval)??!1},kt=new WeakSet,Dr=function(e){M(this,Ht,Lr).call(this),S(this,Qe,e),!(Tt||this.options.enabled===!1||!_r(f(this,Qe))||f(this,Qe)===0)&&S(this,Xe,setInterval(()=>{(this.options.refetchIntervalInBackground||sr.isFocused())&&M(this,Ze,Nt).call(this)},f(this,Qe)))},Vt=new WeakSet,wr=function(){M(this,Qt,Nr).call(this),M(this,kt,Dr).call(this,M(this,qt,Cr).call(this))},jt=new WeakSet,Ur=function(){f(this,Je)&&(clearTimeout(f(this,Je)),S(this,Je,void 0))},Ht=new WeakSet,Lr=function(){f(this,Xe)&&(clearInterval(f(this,Xe)),S(this,Xe,void 0))},Wt=new WeakSet,Fr=function(){const e=f(this,ie).getQueryCache().build(f(this,ie),this.options);if(e===f(this,j))return;const r=f(this,j);S(this,j,e),S(this,Kt,e.state),this.hasListeners()&&(r==null||r.removeObserver(this),e.addObserver(this))},cr=new WeakSet,Ks=function(e){Z.batch(()=>{e.listeners&&this.listeners.forEach(r=>{r(f(this,ne))}),f(this,ie).getQueryCache().notify({query:f(this,j),type:"observerResultsUpdated"})})},hs);function Pa(t,e){return e.enabled!==!1&&!t.state.dataUpdatedAt&&!(t.state.status==="error"&&e.retryOnMount===!1)}function Un(t,e){return Pa(t,e)||t.state.dataUpdatedAt>0&&xr(t,e,e.refetchOnMount)}function xr(t,e,r){if(e.enabled!==!1){const n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&Zr(t,e)}return!1}function Ln(t,e,r,n){return r.enabled!==!1&&(t!==e||n.enabled===!1)&&(!r.suspense||t.state.status!=="error")&&Zr(t,r)}function Zr(t,e){return t.isStaleByTime(e.staleTime)}function Oa(t,e){return!Ir(t.getCurrentResult(),e)}var Bs=K.createContext(void 0),Ra=t=>{const e=K.useContext(Bs);if(t)return t;if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},_a=({client:t,children:e})=>(K.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),U.jsx(Bs.Provider,{value:t,children:e})),Qs=K.createContext(!1),Ia=()=>K.useContext(Qs);Qs.Provider;function Aa(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var Sa=K.createContext(Aa()),ba=()=>K.useContext(Sa);function Na(t,e){return typeof t=="function"?t(...e):!!t}var Ca=(t,e)=>{(t.suspense||t.throwOnError)&&(e.isReset()||(t.retryOnMount=!1))},Da=t=>{K.useEffect(()=>{t.clearReset()},[t])},wa=({result:t,errorResetBoundary:e,throwOnError:r,query:n})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&Na(r,[t.error,n]),Ua=t=>{t.suspense&&typeof t.staleTime!="number"&&(t.staleTime=1e3)},og=(t,e)=>t.isLoading&&t.isFetching&&!e,La=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,Fa=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function xa(t,e,r){const n=Ra(r),s=Ia(),i=ba(),c=n.defaultQueryOptions(t);c._optimisticResults=s?"isRestoring":"optimistic",Ua(c),Ca(c,i),Da(i);const[l]=K.useState(()=>new e(n,c)),m=l.getOptimisticResult(c);if(K.useSyncExternalStore(K.useCallback(g=>{const E=s?()=>{}:l.subscribe(Z.batchCalls(g));return l.updateResult(),E},[l,s]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),K.useEffect(()=>{l.setOptions(c,{listeners:!1})},[c,l]),La(c,m))throw Fa(c,l,i);if(wa({result:m,errorResetBoundary:i,throwOnError:c.throwOnError,query:n.getQueryCache().get(c.queryHash)}))throw m.error;return c.notifyOnChangeProps?m:l.trackResult(m)}function Rt(t,e){return xa(t,Ta,e)}var qs={exports:{}};(function(t,e){(function(r){t.exports=r()})(function(r){var n=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function s(p,y){var a=p[0],o=p[1],h=p[2],d=p[3];a+=(o&h|~o&d)+y[0]-680876936|0,a=(a<<7|a>>>25)+o|0,d+=(a&o|~a&h)+y[1]-389564586|0,d=(d<<12|d>>>20)+a|0,h+=(d&a|~d&o)+y[2]+606105819|0,h=(h<<17|h>>>15)+d|0,o+=(h&d|~h&a)+y[3]-1044525330|0,o=(o<<22|o>>>10)+h|0,a+=(o&h|~o&d)+y[4]-176418897|0,a=(a<<7|a>>>25)+o|0,d+=(a&o|~a&h)+y[5]+1200080426|0,d=(d<<12|d>>>20)+a|0,h+=(d&a|~d&o)+y[6]-1473231341|0,h=(h<<17|h>>>15)+d|0,o+=(h&d|~h&a)+y[7]-45705983|0,o=(o<<22|o>>>10)+h|0,a+=(o&h|~o&d)+y[8]+1770035416|0,a=(a<<7|a>>>25)+o|0,d+=(a&o|~a&h)+y[9]-1958414417|0,d=(d<<12|d>>>20)+a|0,h+=(d&a|~d&o)+y[10]-42063|0,h=(h<<17|h>>>15)+d|0,o+=(h&d|~h&a)+y[11]-1990404162|0,o=(o<<22|o>>>10)+h|0,a+=(o&h|~o&d)+y[12]+1804603682|0,a=(a<<7|a>>>25)+o|0,d+=(a&o|~a&h)+y[13]-40341101|0,d=(d<<12|d>>>20)+a|0,h+=(d&a|~d&o)+y[14]-1502002290|0,h=(h<<17|h>>>15)+d|0,o+=(h&d|~h&a)+y[15]+1236535329|0,o=(o<<22|o>>>10)+h|0,a+=(o&d|h&~d)+y[1]-165796510|0,a=(a<<5|a>>>27)+o|0,d+=(a&h|o&~h)+y[6]-1069501632|0,d=(d<<9|d>>>23)+a|0,h+=(d&o|a&~o)+y[11]+643717713|0,h=(h<<14|h>>>18)+d|0,o+=(h&a|d&~a)+y[0]-373897302|0,o=(o<<20|o>>>12)+h|0,a+=(o&d|h&~d)+y[5]-701558691|0,a=(a<<5|a>>>27)+o|0,d+=(a&h|o&~h)+y[10]+38016083|0,d=(d<<9|d>>>23)+a|0,h+=(d&o|a&~o)+y[15]-660478335|0,h=(h<<14|h>>>18)+d|0,o+=(h&a|d&~a)+y[4]-405537848|0,o=(o<<20|o>>>12)+h|0,a+=(o&d|h&~d)+y[9]+568446438|0,a=(a<<5|a>>>27)+o|0,d+=(a&h|o&~h)+y[14]-1019803690|0,d=(d<<9|d>>>23)+a|0,h+=(d&o|a&~o)+y[3]-187363961|0,h=(h<<14|h>>>18)+d|0,o+=(h&a|d&~a)+y[8]+1163531501|0,o=(o<<20|o>>>12)+h|0,a+=(o&d|h&~d)+y[13]-1444681467|0,a=(a<<5|a>>>27)+o|0,d+=(a&h|o&~h)+y[2]-51403784|0,d=(d<<9|d>>>23)+a|0,h+=(d&o|a&~o)+y[7]+1735328473|0,h=(h<<14|h>>>18)+d|0,o+=(h&a|d&~a)+y[12]-1926607734|0,o=(o<<20|o>>>12)+h|0,a+=(o^h^d)+y[5]-378558|0,a=(a<<4|a>>>28)+o|0,d+=(a^o^h)+y[8]-2022574463|0,d=(d<<11|d>>>21)+a|0,h+=(d^a^o)+y[11]+1839030562|0,h=(h<<16|h>>>16)+d|0,o+=(h^d^a)+y[14]-35309556|0,o=(o<<23|o>>>9)+h|0,a+=(o^h^d)+y[1]-1530992060|0,a=(a<<4|a>>>28)+o|0,d+=(a^o^h)+y[4]+1272893353|0,d=(d<<11|d>>>21)+a|0,h+=(d^a^o)+y[7]-155497632|0,h=(h<<16|h>>>16)+d|0,o+=(h^d^a)+y[10]-1094730640|0,o=(o<<23|o>>>9)+h|0,a+=(o^h^d)+y[13]+681279174|0,a=(a<<4|a>>>28)+o|0,d+=(a^o^h)+y[0]-358537222|0,d=(d<<11|d>>>21)+a|0,h+=(d^a^o)+y[3]-722521979|0,h=(h<<16|h>>>16)+d|0,o+=(h^d^a)+y[6]+76029189|0,o=(o<<23|o>>>9)+h|0,a+=(o^h^d)+y[9]-640364487|0,a=(a<<4|a>>>28)+o|0,d+=(a^o^h)+y[12]-421815835|0,d=(d<<11|d>>>21)+a|0,h+=(d^a^o)+y[15]+530742520|0,h=(h<<16|h>>>16)+d|0,o+=(h^d^a)+y[2]-995338651|0,o=(o<<23|o>>>9)+h|0,a+=(h^(o|~d))+y[0]-198630844|0,a=(a<<6|a>>>26)+o|0,d+=(o^(a|~h))+y[7]+1126891415|0,d=(d<<10|d>>>22)+a|0,h+=(a^(d|~o))+y[14]-1416354905|0,h=(h<<15|h>>>17)+d|0,o+=(d^(h|~a))+y[5]-57434055|0,o=(o<<21|o>>>11)+h|0,a+=(h^(o|~d))+y[12]+1700485571|0,a=(a<<6|a>>>26)+o|0,d+=(o^(a|~h))+y[3]-1894986606|0,d=(d<<10|d>>>22)+a|0,h+=(a^(d|~o))+y[10]-1051523|0,h=(h<<15|h>>>17)+d|0,o+=(d^(h|~a))+y[1]-2054922799|0,o=(o<<21|o>>>11)+h|0,a+=(h^(o|~d))+y[8]+1873313359|0,a=(a<<6|a>>>26)+o|0,d+=(o^(a|~h))+y[15]-30611744|0,d=(d<<10|d>>>22)+a|0,h+=(a^(d|~o))+y[6]-1560198380|0,h=(h<<15|h>>>17)+d|0,o+=(d^(h|~a))+y[13]+1309151649|0,o=(o<<21|o>>>11)+h|0,a+=(h^(o|~d))+y[4]-145523070|0,a=(a<<6|a>>>26)+o|0,d+=(o^(a|~h))+y[11]-1120210379|0,d=(d<<10|d>>>22)+a|0,h+=(a^(d|~o))+y[2]+718787259|0,h=(h<<15|h>>>17)+d|0,o+=(d^(h|~a))+y[9]-343485551|0,o=(o<<21|o>>>11)+h|0,p[0]=a+p[0]|0,p[1]=o+p[1]|0,p[2]=h+p[2]|0,p[3]=d+p[3]|0}function i(p){var y=[],a;for(a=0;a<64;a+=4)y[a>>2]=p.charCodeAt(a)+(p.charCodeAt(a+1)<<8)+(p.charCodeAt(a+2)<<16)+(p.charCodeAt(a+3)<<24);return y}function c(p){var y=[],a;for(a=0;a<64;a+=4)y[a>>2]=p[a]+(p[a+1]<<8)+(p[a+2]<<16)+(p[a+3]<<24);return y}function l(p){var y=p.length,a=[1732584193,-271733879,-1732584194,271733878],o,h,d,b,C,q;for(o=64;o<=y;o+=64)s(a,i(p.substring(o-64,o)));for(p=p.substring(o-64),h=p.length,d=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],o=0;o<h;o+=1)d[o>>2]|=p.charCodeAt(o)<<(o%4<<3);if(d[o>>2]|=128<<(o%4<<3),o>55)for(s(a,d),o=0;o<16;o+=1)d[o]=0;return b=y*8,b=b.toString(16).match(/(.*?)(.{0,8})$/),C=parseInt(b[2],16),q=parseInt(b[1],16)||0,d[14]=C,d[15]=q,s(a,d),a}function m(p){var y=p.length,a=[1732584193,-271733879,-1732584194,271733878],o,h,d,b,C,q;for(o=64;o<=y;o+=64)s(a,c(p.subarray(o-64,o)));for(p=o-64<y?p.subarray(o-64):new Uint8Array(0),h=p.length,d=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],o=0;o<h;o+=1)d[o>>2]|=p[o]<<(o%4<<3);if(d[o>>2]|=128<<(o%4<<3),o>55)for(s(a,d),o=0;o<16;o+=1)d[o]=0;return b=y*8,b=b.toString(16).match(/(.*?)(.{0,8})$/),C=parseInt(b[2],16),q=parseInt(b[1],16)||0,d[14]=C,d[15]=q,s(a,d),a}function g(p){var y="",a;for(a=0;a<4;a+=1)y+=n[p>>a*8+4&15]+n[p>>a*8&15];return y}function E(p){var y;for(y=0;y<p.length;y+=1)p[y]=g(p[y]);return p.join("")}E(l("hello")),typeof ArrayBuffer<"u"&&!ArrayBuffer.prototype.slice&&function(){function p(y,a){return y=y|0||0,y<0?Math.max(y+a,0):Math.min(y,a)}ArrayBuffer.prototype.slice=function(y,a){var o=this.byteLength,h=p(y,o),d=o,b,C,q,G;return a!==r&&(d=p(a,o)),h>d?new ArrayBuffer(0):(b=d-h,C=new ArrayBuffer(b),q=new Uint8Array(C),G=new Uint8Array(this,h,b),q.set(G),C)}}();function T(p){return/[\u0080-\uFFFF]/.test(p)&&(p=unescape(encodeURIComponent(p))),p}function v(p,y){var a=p.length,o=new ArrayBuffer(a),h=new Uint8Array(o),d;for(d=0;d<a;d+=1)h[d]=p.charCodeAt(d);return y?h:o}function P(p){return String.fromCharCode.apply(null,new Uint8Array(p))}function A(p,y,a){var o=new Uint8Array(p.byteLength+y.byteLength);return o.set(new Uint8Array(p)),o.set(new Uint8Array(y),p.byteLength),a?o:o.buffer}function D(p){var y=[],a=p.length,o;for(o=0;o<a-1;o+=2)y.push(parseInt(p.substr(o,2),16));return String.fromCharCode.apply(String,y)}function O(){this.reset()}return O.prototype.append=function(p){return this.appendBinary(T(p)),this},O.prototype.appendBinary=function(p){this._buff+=p,this._length+=p.length;var y=this._buff.length,a;for(a=64;a<=y;a+=64)s(this._hash,i(this._buff.substring(a-64,a)));return this._buff=this._buff.substring(a-64),this},O.prototype.end=function(p){var y=this._buff,a=y.length,o,h=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],d;for(o=0;o<a;o+=1)h[o>>2]|=y.charCodeAt(o)<<(o%4<<3);return this._finish(h,a),d=E(this._hash),p&&(d=D(d)),this.reset(),d},O.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},O.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},O.prototype.setState=function(p){return this._buff=p.buff,this._length=p.length,this._hash=p.hash,this},O.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},O.prototype._finish=function(p,y){var a=y,o,h,d;if(p[a>>2]|=128<<(a%4<<3),a>55)for(s(this._hash,p),a=0;a<16;a+=1)p[a]=0;o=this._length*8,o=o.toString(16).match(/(.*?)(.{0,8})$/),h=parseInt(o[2],16),d=parseInt(o[1],16)||0,p[14]=h,p[15]=d,s(this._hash,p)},O.hash=function(p,y){return O.hashBinary(T(p),y)},O.hashBinary=function(p,y){var a=l(p),o=E(a);return y?D(o):o},O.ArrayBuffer=function(){this.reset()},O.ArrayBuffer.prototype.append=function(p){var y=A(this._buff.buffer,p,!0),a=y.length,o;for(this._length+=p.byteLength,o=64;o<=a;o+=64)s(this._hash,c(y.subarray(o-64,o)));return this._buff=o-64<a?new Uint8Array(y.buffer.slice(o-64)):new Uint8Array(0),this},O.ArrayBuffer.prototype.end=function(p){var y=this._buff,a=y.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],h,d;for(h=0;h<a;h+=1)o[h>>2]|=y[h]<<(h%4<<3);return this._finish(o,a),d=E(this._hash),p&&(d=D(d)),this.reset(),d},O.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},O.ArrayBuffer.prototype.getState=function(){var p=O.prototype.getState.call(this);return p.buff=P(p.buff),p},O.ArrayBuffer.prototype.setState=function(p){return p.buff=v(p.buff,!0),O.prototype.setState.call(this,p)},O.ArrayBuffer.prototype.destroy=O.prototype.destroy,O.ArrayBuffer.prototype._finish=O.prototype._finish,O.ArrayBuffer.hash=function(p,y){var a=m(new Uint8Array(p)),o=E(a);return y?D(o):o},O})})(qs);var $a=qs.exports;const Ma=fs($a);var ks={};/*!
 * cookie
 * Copyright(c) 2012-2014 Roman Shtylman
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */var Vs=ks.parse=Qa,Fn=ks.serialize=qa,Ka=decodeURIComponent,Ba=encodeURIComponent,Zt=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function Qa(t,e){if(typeof t!="string")throw new TypeError("argument str must be a string");for(var r={},n=e||{},s=t.split(";"),i=n.decode||Ka,c=0;c<s.length;c++){var l=s[c],m=l.indexOf("=");if(!(m<0)){var g=l.substring(0,m).trim();if(r[g]==null){var E=l.substring(m+1,l.length).trim();E[0]==='"'&&(E=E.slice(1,-1)),r[g]=ka(E,i)}}}return r}function qa(t,e,r){var n=r||{},s=n.encode||Ba;if(typeof s!="function")throw new TypeError("option encode is invalid");if(!Zt.test(t))throw new TypeError("argument name is invalid");var i=s(e);if(i&&!Zt.test(i))throw new TypeError("argument val is invalid");var c=t+"="+i;if(n.maxAge!=null){var l=n.maxAge-0;if(isNaN(l)||!isFinite(l))throw new TypeError("option maxAge is invalid");c+="; Max-Age="+Math.floor(l)}if(n.domain){if(!Zt.test(n.domain))throw new TypeError("option domain is invalid");c+="; Domain="+n.domain}if(n.path){if(!Zt.test(n.path))throw new TypeError("option path is invalid");c+="; Path="+n.path}if(n.expires){if(typeof n.expires.toUTCString!="function")throw new TypeError("option expires is invalid");c+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(c+="; HttpOnly"),n.secure&&(c+="; Secure"),n.sameSite){var m=typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite;switch(m){case!0:c+="; SameSite=Strict";break;case"lax":c+="; SameSite=Lax";break;case"strict":c+="; SameSite=Strict";break;case"none":c+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return c}function ka(t,e){try{return e(t)}catch{return t}}function Va(){return typeof document=="object"&&typeof document.cookie=="string"}function ja(t,e){return typeof t=="string"?Vs(t,e):typeof t=="object"&&t!==null?t:{}}function Ha(t,e){return typeof e>"u"&&(e=!t||t[0]!=="{"&&t[0]!=="["&&t[0]!=='"'),!e}function xn(t,e){e===void 0&&(e={});var r=Wa(t);if(Ha(r,e.doNotParse))try{return JSON.parse(r)}catch{}return t}function Wa(t){return t&&t[0]==="j"&&t[1]===":"?t.substr(2):t}var je=function(){return je=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},je.apply(this,arguments)},Ga=function(){function t(e,r){var n=this;this.changeListeners=[],this.HAS_DOCUMENT_COOKIE=!1,this.cookies=ja(e,r),new Promise(function(){n.HAS_DOCUMENT_COOKIE=Va()}).catch(function(){})}return t.prototype._updateBrowserValues=function(e){this.HAS_DOCUMENT_COOKIE&&(this.cookies=Vs(document.cookie,e))},t.prototype._emitChange=function(e){for(var r=0;r<this.changeListeners.length;++r)this.changeListeners[r](e)},t.prototype.get=function(e,r,n){return r===void 0&&(r={}),this._updateBrowserValues(n),xn(this.cookies[e],r)},t.prototype.getAll=function(e,r){e===void 0&&(e={}),this._updateBrowserValues(r);var n={};for(var s in this.cookies)n[s]=xn(this.cookies[s],e);return n},t.prototype.set=function(e,r,n){var s;typeof r=="object"&&(r=JSON.stringify(r)),this.cookies=je(je({},this.cookies),(s={},s[e]=r,s)),this.HAS_DOCUMENT_COOKIE&&(document.cookie=Fn(e,r,n)),this._emitChange({name:e,value:r,options:n})},t.prototype.remove=function(e,r){var n=r=je(je({},r),{expires:new Date(1970,1,1,0,0,1),maxAge:0});this.cookies=je({},this.cookies),delete this.cookies[e],this.HAS_DOCUMENT_COOKIE&&(document.cookie=Fn(e,"",n)),this._emitChange({name:e,value:void 0,options:r})},t.prototype.addChangeListener=function(e){this.changeListeners.push(e)},t.prototype.removeChangeListener=function(e){var r=this.changeListeners.indexOf(e);r>=0&&this.changeListeners.splice(r,1)},t}();`${Pt(u.REPO_ENDPOINT)}`;const L="/repo/v1",Ya="/auth/v1",za="/file/v1",Ja="/async/start",Xa="/async/get",Za=`${L}/entity`,eu=t=>`${L}/entity/alias/${t}`,qe=t=>`${L}/entity/${t}`,tu=(t,e)=>`${L}/entity/${t}${e?`/version/${e}`:""}`,ag=t=>`${L}/entity/${t}/version`,ru=(t,e)=>`${tu(t,e)}/bundle2`,nu=t=>`${L}/entity/${t}/access`,js=t=>`${qe(t)}/acl`,su=t=>`${qe(t)}/evaluation`,iu=t=>`${qe(t)}/path`,ou=t=>`${qe(t)}/permissions`,au=`${L}/entity/header`,Hs=t=>`${L}/entity/${t}/json`,uu=(t,e)=>`${L}/entity/${t}/version/${e}/json`,Ws=t=>`${L}/entity/${t}/schema`,cu=t=>`${Ws(t)}/binding`,lu=t=>`${Ws(t)}/validation`,du=t=>`${qe(t)}/accessRequirement`,hu=t=>`${qe(t)}/table/query/async/start`,fu=(t,e)=>`${qe(t)}/table/query/async/get/${e}`,$n=t=>`${L}/asynchronous/job/${t}`,Gs=`${L}/schema`,pu=t=>`${L}/schema/type/registered/${t}`,gu=`${Gs}/type/validation${Ja}`,yu=t=>`${Gs}/type/validation${Xa}/${t}`,Ys=`${L}/user`,Eu=`${Ys}/bundle`,mu=t=>`${Ys}/${t}`,vu=t=>`${mu(t)}/bundle`,en=`${L}/userProfile`,Tu=t=>`${en}/${t}`,Pu=`${L}/notificationEmail`,Ou=`${L}/principal/available`,Ru=t=>`${L}/account/emailValidation?portalEndpoint=${t}`,_u=`${L}/account2`,Iu=`${Ya}/termsOfUse2`,Au=`${L}/verificationSubmission`,Su=`${L}/accessRequirement/search`,bu=`${L}/dataAccessSubmission/search`,_t=t=>`${L}/accessRequirement/${t}`,Nu=t=>_t(t)+"/acl",Cu=t=>_t(t)+"/status",Du=t=>`${L}/access_requirement/${t}/wikikey`,ug=(t,e)=>`${L}/access_requirement/${t}/wiki/${e}`,tn=`${L}/favorite`,zs=`${L}/userGroupHeaders`,wu=`${L}/userGroupHeaders/batch`,Js=t=>`${L}/dataAccessSubmission/${t}`,Uu=t=>`${L}/userProfile/${t}/image/preview`,Lu=t=>_t(t)+"/approvedSubmissionInfo",rn=`${L}/evaluation`,Xs=t=>rn+`/${t}`,Fu=(t,e)=>e?`${L}/entity/${t}/version/${e}/generatedBy`:`${L}/entity/${t}/generatedBy`,nn=`${L}/trashcan`,xu=`${nn}/view`,$u=t=>`${nn}/restore/${t}`,Mu=t=>`${nn}/purge/${t}`,Zs=t=>`${L}/team/${t}`,sn=(t,e)=>Zs(t)+`/member/${e}`,Ku=t=>`${L}/teamMembers/${t}`,ei="https://www.synapse.org/#!SignedToken:",ti="https://www.synapse.org/#!Team:",Bu=`${L}/teamMember/?teamEndpoint=${ti}&notificationUnsubscribeEndpoint=${ei}`,Qu=(t,e)=>sn(t,e)+`?teamEndpoint=${ti}&notificationUnsubscribeEndpoint=${ei}`,qu=t=>`${L}/membershipInvitation/${t}`,ku=t=>`${L}/membershipInvitation/${t}/inviteeVerificationSignedToken`,Vu=t=>`${L}/membershipInvitation/${t}/inviteeId`,hr=`${L}/forum`,ju=t=>`${hr}/${t}/threads`,It=`${L}/thread`,Yt=t=>`${It}/${t}`,Hu=`${L}/doi`,Wu=`${Hu}/association`,ri=`${L}/accessApproval`,Gu=t=>`${ri}/${t}`,ni=`${L}/dataAccessRequest`,Yu=t=>`${ni}/${t}/submission`,zu=t=>`${_t(t)}/dataAccessRequestForUpdate`,Ju=`${L}/researchProject`,Xu=t=>`${_t(t)}/researchProjectForUpdate`,Zu=`${za}/fileHandle`,ec=`${Zu}/batch`,tc=`${L}/projects`,rc=t=>`${L}/entity/${t}/actions/download`,nc="DOWNLOAD_LIST_UPDATED_EVENT",si=t=>{const e=new CustomEvent(nc,{detail:t});document.dispatchEvent(e)};class st extends Error{constructor(r,n,s,i){super(n);nt(this,"status");nt(this,"reason");nt(this,"errorResponse");nt(this,"url");this.status=r,this.reason=n,this.url=s,this.errorResponse=i,Object.setPrototypeOf(this,new.target.prototype)}}function ii(){return!window.location.hostname.toLowerCase().endsWith(".synapse.org")}async function At(t){let e=null;try{e=await t()}catch(r){if(!(r instanceof st&&r.status===404))throw r}return e}async function oi(t){let e=null;try{e=await t()}catch(r){if(r instanceof st&&r.status===401&&r.errorResponse&&"errorCode"in r.errorResponse&&r.errorResponse.errorCode===uo.TWO_FA_REQUIRED&&r.errorResponse.concreteType==="org.sagebionetworks.repo.model.auth.TwoFactorAuthErrorResponse")return r.errorResponse;throw r}return e}function fr(t){return new Promise(e=>{setTimeout(e.bind(null,{}),t)})}const sc=[0,429,502,503,504],ic=[502,503],oc=3,pr=async(t,e,r=1e3)=>{let n;try{n=await fetch(t,e)}catch(m){throw console.error(m),new st(0,ji,t.toString())}let s=1;for(;n.status&&sc.includes(n.status)&&(await fr(r),r=r*2,n=await fetch(t,e),!(ic.includes(n.status)&&(s++,s==oc))););const i=n.headers.get("Content-Type"),c=await n.text();let l=c;try{i&&i.includes("application/json")&&(l=JSON.parse(c))}catch{console.warn("Failed to parse response as JSON",c)}if(n.ok)return l;throw l!==null&&typeof l=="object"&&"reason"in l?new st(n.status,l.reason,t.toString(),l):new st(n.status,JSON.stringify(l),t.toString())},I=(t,e,r,n,s={})=>{const i={body:JSON.stringify(e),headers:{Accept:"*/*","Access-Control-Request-Headers":"authorization","Content-Type":"application/json",...r?{Authorization:`Bearer ${r}`}:{}},method:"POST",mode:"cors",...s},c=Pt(n);return pr(c+t,i)},_=(t,e,r,n={})=>{const s={headers:{Accept:"*/*","Access-Control-Request-Headers":"authorization",...e?{Authorization:`Bearer ${e}`}:{}},method:"GET",mode:"cors",...n},i=Pt(r);return pr(i+t,s)},te=(t,e,r,n={})=>{const s={headers:{Accept:"*/*","Access-Control-Request-Headers":"authorization",...e?{Authorization:`Bearer ${e}`}:{}},method:"DELETE",mode:"cors",...n},i=Pt(r);return pr(i+t,s)},k=(t,e,r,n,s={})=>{const i={body:JSON.stringify(e),headers:{Accept:"*/*","Access-Control-Request-Headers":"authorization","Content-Type":"application/json",...r?{Authorization:`Bearer ${r}`}:{}},method:"PUT",mode:"cors",...s},c=Pt(n);return pr(c+t,i)};function X(...t){return e=>!!(e&&typeof e=="object"&&"concreteType"in e&&t.includes(e.concreteType))}const cg=X(lo,co),lg=X(Rs),dg=X(Is),hg=X(fo,ho,Rs),fg=X(_s),pg=X(po),gg=X(mo),yg=X(vo),Eg=X(go),mg=X(yo),vg=X(Wr),Tg=X(Eo);function Pg(t){return t.node_type?t.node_type:t.type===void 0?R.PROJECT:ai(t.type)}function Og(t){switch(t){case R.PROJECT:case R.FOLDER:return!0;case R.LINK:case R.DOCKER_REPO:case R.FILE:case R.TABLE:case R.SUBMISSION_VIEW:case R.ENTITY_VIEW:case R.DATASET:case R.DATASET_COLLECTION:case R.MATERIALIZED_VIEW:case R.VIRTUAL_TABLE:return!1;default:throw new Error(`Unknown entity type: ${t}`)}}function Rg(t){switch(t){case R.PROJECT:case R.FOLDER:case R.LINK:case R.DOCKER_REPO:case R.FILE:return!1;case R.TABLE:case R.SUBMISSION_VIEW:case R.ENTITY_VIEW:case R.DATASET:case R.DATASET_COLLECTION:case R.MATERIALIZED_VIEW:case R.VIRTUAL_TABLE:return!0;default:throw new Error(`Unknown entity type: ${t}`)}}function _g(t){switch(t){case R.PROJECT:return"Project";case R.FOLDER:return"Folder";case R.FILE:return"File";case R.TABLE:return"Table";case R.LINK:return"Link";case R.ENTITY_VIEW:return"View";case R.DOCKER_REPO:return"Docker Repository";case R.SUBMISSION_VIEW:return"Submission View";case R.DATASET:return"Dataset";case R.DATASET_COLLECTION:return"Dataset Collection";case R.MATERIALIZED_VIEW:return"Materialized View";case R.VIRTUAL_TABLE:return"Virtual Table";default:return console.warn("Entity type could not be mapped to name:",t),""}}function ai(t){switch(t){case R.PROJECT:case"org.sagebionetworks.repo.model.Project":return R.PROJECT;case R.FOLDER:case"org.sagebionetworks.repo.model.Folder":return R.FOLDER;case R.FILE:case Wr:return R.FILE;case R.LINK:case"org.sagebionetworks.repo.model.Link":return R.LINK;case R.DOCKER_REPO:case"org.sagebionetworks.repo.model.docker.DockerRepository":return R.DOCKER_REPO;case R.TABLE:case Jr:return R.TABLE;case R.SUBMISSION_VIEW:case"org.sagebionetworks.repo.model.table.SubmissionView":return R.SUBMISSION_VIEW;case R.ENTITY_VIEW:case zr:return R.ENTITY_VIEW;case R.DATASET:case Yr:return R.DATASET;case R.DATASET_COLLECTION:case Gr:return R.DATASET_COLLECTION;case R.MATERIALIZED_VIEW:case Ss:return R.MATERIALIZED_VIEW;case R.VIRTUAL_TABLE:case As:return R.VIRTUAL_TABLE;default:throw new Error(`Unknown entity type: ${t}`)}}function Ig(t){switch(t){case R.PROJECT:return"org.sagebionetworks.repo.model.Project";case R.FOLDER:return"org.sagebionetworks.repo.model.Folder";case R.FILE:return"org.sagebionetworks.repo.model.FileEntity";case R.LINK:return"org.sagebionetworks.repo.model.Link";case R.DOCKER_REPO:return"org.sagebionetworks.repo.model.docker.DockerRepository";case R.TABLE:return"org.sagebionetworks.repo.model.table.TableEntity";case R.SUBMISSION_VIEW:return"org.sagebionetworks.repo.model.table.SubmissionView";case R.ENTITY_VIEW:return"org.sagebionetworks.repo.model.table.EntityView";case R.DATASET:return"org.sagebionetworks.repo.model.table.Dataset";case R.DATASET_COLLECTION:return"org.sagebionetworks.repo.model.table.DatasetCollection";case R.MATERIALIZED_VIEW:return"org.sagebionetworks.repo.model.table.MaterializedView";case R.VIRTUAL_TABLE:return"org.sagebionetworks.repo.model.table.VirtualTable";default:throw new Error(`Unknown entity type: ${t}`)}}function ac(t){switch(t){case R.PROJECT:case R.FOLDER:case R.LINK:case R.DOCKER_REPO:case R.SUBMISSION_VIEW:case R.MATERIALIZED_VIEW:case R.VIRTUAL_TABLE:return!1;case R.FILE:case R.TABLE:case R.ENTITY_VIEW:case R.DATASET:case R.DATASET_COLLECTION:return!0;default:throw new Error(`Unknown entity type: ${t}`)}}const uc=X(...To),Ag=X(Jr),Sg=X(Ns),ui=X(Yr),cc=X(Gr),bg=t=>ui(t)||cc(t),Ng=X(zr);function Cg(t){return(t.viewTypeMask&bs)!=0}function Dg(t){return t.viewTypeMask===bs}function lc(t){return ac(ai(t.concreteType))}function wg(t){return lc(t)?t.isLatestVersion?uc(t)?ui(t)?"Draft":"Current":`${t.versionNumber.toString()} (Current)`:t.versionNumber.toString():(console.warn("Entity isn't versionable:",t),"")}function Ug(t){return t.startsWith("syn")?t:`syn${t}`}const Ct=["name","description","id","etag","createdOn","modifiedOn","createdBy","modifiedBy","parentId","concreteType"],ci=[...Ct,"versionNumber","versionLabel","versionComment","isLatestVersion"],rr=[...ci,"columnIds","isSearchEnabled"],$r=[...rr],Mn=[...$r,"items"],Lg={[Is]:[...Ct,"linksTo","linksToClassName"],[_s]:[...Ct,"repositoryName","isManaged"],[Wr]:[...ci,"dataFileHandleId","fileNameOverride"],[Ns]:[...$r,"scopeIds"],[Yr]:[...Mn,"size","checksum"],[Gr]:[...Mn],[zr]:[...$r,"scopeIds","viewTypeMask","type"],[Jr]:rr,[Ss]:[...rr,"definingSQL"],[As]:[...rr,"definingSQL"],[Po]:Ct,[Oo]:[...Ct,"alias"]},Fg={ALL_TABLES:[R.TABLE,R.ENTITY_VIEW,R.SUBMISSION_VIEW,R.DATASET,R.DATASET_COLLECTION,R.MATERIALIZED_VIEW,R.VIRTUAL_TABLE],CONTAINER:[R.PROJECT,R.FOLDER]};function gr(t,e=!1){return e?(Object.keys(t).forEach(r=>t[r]===void 0?delete t[r]:{}),t):Object.keys(t).reduce((r,n)=>{const s=r;return t[n]!==void 0&&(s[n]=t[n]),s},{})}const dc=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"];function Kn(t){if(!t)return"";const e=Math.floor(Math.log(t)/Math.log(1024));return!t&&"0 Bytes"||(t/Math.pow(1024,e)).toFixed(2)+" "+dc[e]}const Lt=new Ga,hc=5242880,li=1;function di(){const t=window.location.port?`:${window.location.port}`:"";return`${window.location.protocol}//${window.location.hostname}${t}/`}const fc=()=>_("/repo/v1/version",void 0,u.REPO_ENDPOINT);function pc(t,e,r){return I("/repo/v1/validateDefiningSql",{definingSql:t,entityType:e},r,u.REPO_ENDPOINT)}const gc=async(t,e=void 0)=>{const r=await I(`/repo/v1/entity/${t.entityId}/table/download/csv/async/start`,t,e,u.REPO_ENDPOINT);return Re(r.token,`/repo/v1/entity/${t.entityId}/table/download/csv/async/get/${r.token}`,e)},hi=(t,e=void 0)=>_(`/file/v1/fileHandle/${t}`,e,u.REPO_ENDPOINT),yc=(t,e=void 0,r,n,s=!0)=>_(`/file/v1/file/${t}?fileAssociateType=${r}&fileAssociateId=${n}&redirect=${s}`,e,u.REPO_ENDPOINT),fi=(t,e=void 0)=>_(`/file/v1/fileHandle/${t}/url?redirect=false`,e,u.REPO_ENDPOINT),on=async(t,e,r,n)=>{let s=await _($n(t),r,u.REPO_ENDPOINT);for(n==null||n(s);s.jobState&&s.jobState==="PROCESSING";)await fr(500),s=await _($n(t),r,u.REPO_ENDPOINT),n==null||n(s);if(s.jobState==="FAILED"){const i=await _(e,r,u.REPO_ENDPOINT);console.warn("SynapseClient.getAsyncResultFromJobId should have thrown an error, but instead retrieved the following response:",i)}return s},Re=async(t,e,r)=>(await on(t,e,r)).responseBody,Ec=async(t,e,r)=>{const n=await I(hu(t.entityId),t,e,u.REPO_ENDPOINT);return on(n.token,fu(t.entityId,n.token),e,r)},Mr=async(t,e,r)=>{const n=await I(`/repo/v1/entity/${t.entityId}/table/query/async/start`,t,e,u.REPO_ENDPOINT,{signal:r});return Re(n.token,`/repo/v1/entity/${t.entityId}/table/query/async/get/${n.token}`,e)},mc=async(t,e=void 0,r)=>{let n=0;const{query:s,...i}=t,c={...i,query:{...s,offset:n,limit:void 0},partMask:t.partMask|Hi},l=await Mr(c,e,r);let m=l.queryResult.queryResults.rows.length<l.maxRowsPerPage;for(n+=l.queryResult.queryResults.rows.length,c.query.limit=l.maxRowsPerPage;!m;){c.query.offset=n;const g=await Mr(c,e,r);l.queryResult.queryResults.rows.push(...g.queryResult.queryResults.rows),m=g.queryResult.queryResults.rows.length<c.query.limit,n+=g.queryResult.queryResults.rows.length}return l};async function vc(t,e,r,n=u.REPO_ENDPOINT){return oi(()=>I("/auth/v1/login2",{username:t,password:e,authenticationReceipt:r},void 0,n))}function Tc(t,e=u.REPO_ENDPOINT){return I("/auth/v1/2fa/token",t,void 0,e)}const Pc=(t,e,r,n=u.REPO_ENDPOINT)=>I("/auth/v1/oauth2/authurl",{provider:t,redirectUrl:e,state:r},void 0,n),pi=(t,e,r,n=u.REPO_ENDPOINT)=>oi(()=>I("/auth/v1/oauth2/session2",{provider:t,authenticationCode:e,redirectUrl:r},void 0,n));function Oc(t){return _("/auth/v1/2fa",t,u.REPO_ENDPOINT)}function Rc(t){return te("/auth/v1/2fa",t,u.REPO_ENDPOINT)}function _c(t){return I("/auth/v1/2fa/enroll",null,t,u.REPO_ENDPOINT)}function Ic(t,e){return I("/auth/v1/2fa",t,e,u.REPO_ENDPOINT)}function Ac(t){return I("/auth/v1/2fa/recoveryCodes",null,t,u.REPO_ENDPOINT)}const gi=(t,e)=>I(Za,t,e,u.REPO_ENDPOINT),Sc=(t,e)=>gi({name:t,concreteType:"org.sagebionetworks.repo.model.Project"},e),bc=t=>_(en,t,u.REPO_ENDPOINT),Nc=(t,e)=>_(Tu(t),e,u.REPO_ENDPOINT),Cc=(t,e,r)=>_(`${vu(t)}?mask=${e}`,r,u.REPO_ENDPOINT),Dc=(t,e)=>_(`${Eu}?mask=${t}`,e,u.REPO_ENDPOINT),wc=(t,e=void 0)=>k("/repo/v1/userProfile",t,e,u.REPO_ENDPOINT),Uc=(t="",e=Ro.ALL,r=0,n=20)=>_(zs+`?prefix=${t}&typeFilter=${e}&offset=${r}&limit=${n}`,void 0,u.REPO_ENDPOINT),Lc=t=>I(`${zs}/aliases`,{list:t},void 0,u.REPO_ENDPOINT),Fc=t=>_(wu+`?ids=${t.join(",")}`,void 0,u.REPO_ENDPOINT),xc=async(t={},e)=>{const r=new URLSearchParams;t.accessType!=null&&r.set("accessType",t.accessType),t.activeOnly!=null&&r.set("activeOnly",t.activeOnly.toString()),t.evaluationIds!=null&&r.set("evaluationIds",t.evaluationIds.join(","));const n=(s,i)=>{r.set("limit",s.toString()),r.set("offset",i.toString());const c=`${rn}?${r.toString()}`;return _(c,e,u.REPO_ENDPOINT)};if(t.evaluationIds){const s=await tt(n);return{totalNumberOfResults:s.length,results:s}}return n(t.limit??20,t.offset??0)},$c=(t,e=void 0)=>I(en,{list:t},e,u.REPO_ENDPOINT),Mc=(t,e=void 0,r)=>I("/repo/v1/entity/children",t,e,u.REPO_ENDPOINT,{signal:r}),Kc=(t,e=void 0)=>I("/repo/v1/entity/child",t,e,u.REPO_ENDPOINT),yi=(t,e=void 0)=>I(ec,t,e,u.REPO_ENDPOINT),Bc=async(t,e=void 0)=>{const r=await I("/file/v1/file/bulk/async/start",t,e,u.REPO_ENDPOINT);return Re(r.token,`/file/v1/file/bulk/async/get/${r.token}`,e)},Qc=(t=void 0,e,r)=>{if(e.indexOf(".")>-1){const s=e.split(".");e=s[0],r=s[1]}const n=r?`/repo/v1/entity/${e}/version/${r}`:`/repo/v1/entity/${e}`;return _(n,t,u.REPO_ENDPOINT)},qc=(t,e)=>an(t.map(r=>({targetId:r})),e),an=(t,e)=>{const r=t.map(n=>{if(n.targetId.indexOf(".")>-1){const s=n.targetId.split(".");return{targetId:s[0],version:s[1]}}else return n});return I(au,{references:r},e,u.REPO_ENDPOINT)},kc=(t,e)=>At(()=>_(eu(t),e,u.REPO_ENDPOINT)),Vc=async(t,e,r)=>(await an([{targetId:t,targetVersionNumber:e}],r)).results[0],jc=(t,e=void 0)=>k(js(t.id),t,e,u.REPO_ENDPOINT),Hc=(t,e=void 0,r)=>{let n=`/repo/v1/entity/${t.id}`;return r&&(n+="?newVersion=true"),k(n,t,e,u.REPO_ENDPOINT)},Wc=(t=void 0,e)=>te(qe(e),t,u.REPO_ENDPOINT),Gc=(t,e,r,n)=>I(ru(t,r),e,n,u.REPO_ENDPOINT);function un(t){return lr[t]}const Yc=(t,e,r="",n=lr.ENTITY)=>{const s=un(n),i=`/repo/v1/${s==null?void 0:s.toLocaleLowerCase()}/${e}/wiki/${r}`;return _(i,t,u.REPO_ENDPOINT)};function zc(t,e=0,r=200,n="NAME",s="ASC"){const i=new URLSearchParams;i.set("offset",e.toString()),i.set("limit",r.toString()),i.set("sort",n),i.set("sortDirection",s);const c=`${tn}?${i.toString()}`;return _(c,t,u.REPO_ENDPOINT)}function Jc(t,e){return I(`${tn}/${t}`,null,e,u.REPO_ENDPOINT)}const Xc=(t,e)=>te(`${tn}/${t}`,e,u.REPO_ENDPOINT),Zc=(t,e,r=0,n=200)=>{const s=`/repo/v1/challenge?participantId=${e}&offset=${r}&limit=${n}`;return _(s,t,u.REPO_ENDPOINT)},el=(t,e)=>{const r=`/repo/v1//user/${t}/certifiedUserPassingRecord`;return _(r,e,u.REPO_ENDPOINT)},tl=(t,e,r=0,n=200)=>{const s=`/repo/v1/challenge/${e}/challengeTeam?&offset=${r}&limit=${n}`;return _(s,t,u.REPO_ENDPOINT)},rl=(t,e)=>tt((n,s)=>{const i=`/repo/v1/challenge/${e}/challengeTeam?&offset=${s}&limit=${n}`;return _(i,t,u.REPO_ENDPOINT)}),nl=(t,e,r=0,n=50)=>{const s=`/repo/v1/challenge/${e}/submissionTeams?&offset=${r}&limit=${n}`;return _(s,t,u.REPO_ENDPOINT)},sl=(t,e,r)=>{const n=`/repo/v1/evaluation/${t}/team/${e}/submissionEligibility`;return _(n,r,u.REPO_ENDPOINT)},il=(t,e)=>{const r=`/repo/v1/challenge/${String(t.challengeId)}/challengeTeam`;return I(r,t,e,u.REPO_ENDPOINT)},ol=(t,e)=>{const r=`/repo/v1/entity/${t}/challenge`;return _(r,e,u.REPO_ENDPOINT)};function al(t,e){return I("/repo/v1/team",t,e,u.REPO_ENDPOINT)}const ul=(t,e,r=0,n=200)=>{const s=`/repo/v1/user/${e}/team?offset=${r}&limit=${n}`;return _(s,t,u.REPO_ENDPOINT)},cl=(t,e)=>tt((n,s)=>{const i=`/repo/v1/team/${e}/accessRequirement?offset=${s}&limit=${n}`;return _(i,t,u.REPO_ENDPOINT)}),ll=(t,e,r="",n=10,s=0)=>{const i=`${Ku(e)}?limit=${n}&offset=${s}${r?`&fragment=${r}`:""}`;return _(i,t,u.REPO_ENDPOINT)},dl=t=>k(Bu,t,void 0,u.REPO_ENDPOINT),hl=(t,e,r)=>k(Qu(t,e),void 0,r,u.REPO_ENDPOINT);function Ei(t,e){return _(`${L}/user/${t}/openInvitation`,e,u.REPO_ENDPOINT)}function fl(t,e){return tt(()=>Ei(t,e))}function pl(t,e){return I(`${L}/membershipInvitation`,t,e,u.REPO_ENDPOINT)}const gl=t=>I(qu(t.membershipInvitationId),t,void 0,u.REPO_ENDPOINT),yl=(t,e)=>_(ku(t),e,u.REPO_ENDPOINT),El=(t,e,r)=>k(Vu(e),t,r,u.REPO_ENDPOINT),ml=(t,e,r)=>{const n=sn(t,e);return At(()=>_(n,r,u.REPO_ENDPOINT))},vl=(t,e,r)=>{const n=`${sn(t,e)}/membershipStatus`;return _(n,r,u.REPO_ENDPOINT)},Tl=(t,e)=>I("/repo/v1/membershipRequest",t,e,u.REPO_ENDPOINT),Pl=(t,e,r)=>te(`/repo/v1/team/${t}/member/${e}`,r,u.REPO_ENDPOINT),Ol=(t,e)=>_(Zs(t),e,u.REPO_ENDPOINT),Rl=(t,e)=>I("/repo/v1/teamList",{list:t},e,u.REPO_ENDPOINT),_l=(t,e)=>{const r=`/repo/v1/entity/${e}/wikikey`;return _(r,t,u.REPO_ENDPOINT)},Il=(t,e)=>{const r=Du(e);return _(r,t,u.REPO_ENDPOINT)},Al=(t,e,r,n=lr.ENTITY)=>{const i=`/repo/v1/${un(n).toLocaleLowerCase()}/${e}/wiki2/${r}/attachmenthandles`;return _(i,t,u.REPO_ENDPOINT)},Sl=(t,e,r)=>{const n=`/repo/v1/evaluation/${e}/wiki/${r}/attachmenthandles`;return _(n,t,u.REPO_ENDPOINT)},bl=(t,e,r,n,s=lr.ENTITY)=>{const c=`/repo/v1/${un(s).toLocaleLowerCase()}/${e}/wiki2/${r}/attachment?fileName=${n}&redirect=false`;return _(c,t,u.REPO_ENDPOINT)},Nl=()=>!!Lt.get(Wi),cn=async t=>{if(ii())t?Lt.set(Rr,t,{maxAge:60*60*24*10,path:"/"}):(Lt.remove(Rr,{path:"/"}),await fr(100));else return I("Portal/sessioncookie",{sessionToken:t},void 0,u.PORTAL_ENDPOINT,{credentials:"include"})},mi=async()=>ii()?Promise.resolve(Lt.get(Rr)):_("Portal/sessioncookie?validate=true",void 0,u.PORTAL_ENDPOINT,{credentials:"include"}),Cl=()=>Lt.get(Gi)==="true",Dl=(t,e)=>I("/repo/v1/principal/alias",e,t,u.REPO_ENDPOINT),wl=async()=>{await cn(void 0)},Ul=(t,e,r)=>new Promise((n,s)=>{const i=Math.max(5242880,r.size/1e4),c={contentType:r.type,fileName:e,fileSizeBytes:r.size,partSizeBytes:i,storageLocationId:li};vi(r).then(l=>{c.contentMD5Hex=l,Pi(t,e,r,c,n,s)})}),vi=t=>new Promise((e,r)=>{const n=File.prototype.slice,s=t,i=2097152,c=Math.ceil(s.size/i),l=new Ma.ArrayBuffer,m=new FileReader;let g=0;m.onload=function(T){if(console.log("read chunk nr",g+1,"of",c),l.append(m.result),g++,g<c)E();else{console.log("finished loading");const v=l.end();console.info("computed hash",v),e(v)}},m.onerror=function(){console.warn("oops, something went wrong."),r(m.error)};const E=()=>{const T=g*i,v=T+i>=s.size?s.size:T+i;m.readAsArrayBuffer(n.call(s,T,v))};E()}),Ti=(t,e,r,n,s,i,c,l)=>{if(e.clientSidePartsState[t-1])return;const m=e.uploadId,g={uploadId:m,contentType:"application/octet-stream",partNumbers:[t]},E=`/file/v1/file/multipart/${m}/presigned/url/batch`;I(E,g,r,u.REPO_ENDPOINT).then(async T=>{const v=T.partPresignedUrls[0].uploadPresignedUrl,P=(t-1)*i.partSizeBytes;let A=t*i.partSizeBytes-1;A>=i.fileSizeBytes&&(A=i.fileSizeBytes-1);const D=s.slice(P,A+1,g.contentType);await Ll(v,D,g.contentType),vi(D).then(O=>{const p=`/file/v1/file/multipart/${m}/add/${t}?partMD5Hex=${O}`;k(p,void 0,r,u.REPO_ENDPOINT).then(y=>{y.addPartState==="ADD_SUCCESS"?(e.clientSidePartsState[t-1]=!0,ln(e,n,r,c,l)):fr(1e3).then(()=>{Ti(t,e,r,n,s,i,c,l)})})})})},ln=(t,e,r,n,s)=>{if(t.clientSidePartsState.every(i=>i)){const i=`/file/v1/file/multipart/${t.uploadId}/complete`;k(i,void 0,r,u.REPO_ENDPOINT).then(c=>{n({fileHandleId:c.resultFileHandleId,fileName:e})}).catch(c=>{s(c)})}},Ll=async(t,e,r)=>{await fetch(t,{method:"PUT",headers:{"Content-Type":r},body:e})},Pi=(t,e,r,n,s,i)=>{I("/file/v1/file/multipart",n,t,u.REPO_ENDPOINT).then(l=>{const m=l.partsState.split("").map(g=>g==="1");l.clientSidePartsState=m;for(let g=0;g<m.length;g=g+1)m[g]||Ti(g+1,l,t,e,r,n,s,i);ln(l,e,t,s,i)}).catch(l=>{i(l)})},Fl=(t,e)=>new Promise((r,n)=>{const s=hi(t,e),i=fi(t,e);Promise.all([s,i]).then(c=>{const l=c[0],m=c[1];return Oi(l,m).then(g=>{r(g)})}).catch(c=>{n(c)})}),Oi=(t,e,r=hc)=>new Promise((n,s)=>{t.contentSize<r?fetch(e,{method:"GET",mode:"cors",cache:"no-cache",headers:{"Content-Type":t.contentType}}).then(i=>{i.text().then(c=>{n(c)})}):s(`File size (${Kn(t.contentSize)}) exceeds the maximum size that can be downloaded (${Kn(r)})`)}),xl=(t,e,r,n,s)=>new Promise((i,c)=>{const l=[{associateObjectId:t.id,associateObjectType:_o.FileEntity,fileHandleId:t.dataFileHandleId}];yi({includeFileHandles:r||!1,includePreSignedURLs:n||!1,includePreviewPreSignedURLs:s||!1,requestedFiles:l},e).then(g=>{g.requestedFiles.length&&g.requestedFiles[0].fileHandleId!==void 0?i(g.requestedFiles[0]):c(g.requestedFiles[0].failureCode)}).catch(g=>{c(g)})}),Ri=(t,e)=>I("/repo/v1/download/list/add",{batchToAdd:t},e,u.REPO_ENDPOINT),$l=(t,e,r)=>Ri([{fileEntityId:t,versionNumber:e}],r),Ml=async(t,e)=>{const n=await I("/repo/v1/download/list/package/async/start",{zipFileName:t,includeManifest:!0,concreteType:"org.sagebionetworks.repo.model.download.DownloadListPackageRequest"},e,u.REPO_ENDPOINT);return Re(n.token,`/repo/v1/download/list/package/async/get/${n.token}`,e)},Kl=async(t=void 0)=>{const r=await I("/repo/v1/download/list/manifest/async/start",{csvTableDescriptor:{},concreteType:"org.sagebionetworks.repo.model.download.DownloadListManifestRequest"},t,u.REPO_ENDPOINT);return Re(r.token,`/repo/v1/download/list/manifest/async/get/${r.token}`,t)},Bl=async(t,e=void 0)=>{const r=await I("/repo/v1/download/list/add/async/start",t,e,u.REPO_ENDPOINT);return Re(r.token,`/repo/v1/download/list/add/async/get/${r.token}`,e)},Ql=(t,e,r)=>I(`/repo/v1/entity/${t}/acl`,e,r,u.REPO_ENDPOINT),ql=(t,e,r,n)=>{let s=`/repo/v1/evaluation/submission?etag=${r}`;return n&&(s+=`&submissionEligibilityHash=${n}`),I(s,e,t,u.REPO_ENDPOINT)},kl=(t,e)=>_(`/repo/v1/evaluation/${t}/permissions`,e,u.REPO_ENDPOINT),Vl=(t,e)=>t?_(Xs(t),e,u.REPO_ENDPOINT):Promise.reject(new Error("evalId is empty")),jl=(t,e)=>t.id?k(Xs(t.id),t,e,u.REPO_ENDPOINT):Promise.reject(new Error("evaluation does not have an ID")),Hl=(t,e)=>I(rn,t,e,u.REPO_ENDPOINT),Wl=(t,e)=>te(`/repo/v1/evaluation/${t}`,e,u.REPO_ENDPOINT),Gl=(t,e,r)=>_(`/repo/v1/evaluation/${t}/round/${e}`,r,u.REPO_ENDPOINT),Yl=(t,e,r)=>I(`/repo/v1/evaluation/${t}/round/list`,e??{},r,u.REPO_ENDPOINT),zl=(t,e)=>I(`/repo/v1/evaluation/${t.evaluationId}/round`,t,e,u.REPO_ENDPOINT),Jl=(t,e)=>k(`/repo/v1/evaluation/${t.evaluationId}/round/${t.id}`,t,e,u.REPO_ENDPOINT),Xl=(t,e,r)=>te(`/repo/v1/evaluation/${t}/round/${e}`,r,u.REPO_ENDPOINT),Zl=(t,e)=>_(`/repo/v1/evaluation/submission/query?query=${encodeURI(t)}`,e,u.REPO_ENDPOINT),ed=t=>I("/auth/v1/oauth2/description",t,void 0,u.REPO_ENDPOINT),td=(t,e)=>I("/auth/v1/oauth2/consentcheck",t,e,u.REPO_ENDPOINT),rd=t=>_(`/auth/v1/oauth2/client/${t}`,void 0,u.REPO_ENDPOINT),nd=(t,e)=>_(`/auth/v1/oauth2/client${e?"?nextPageToken="+e:""}`,t,u.REPO_ENDPOINT),sd=(t,e)=>I("/auth/v1/oauth2/client",t,e,u.REPO_ENDPOINT),id=(t,e)=>te(`/auth/v1/oauth2/client/${t}`,e,u.REPO_ENDPOINT),od=(t,e)=>k(`/auth/v1/oauth2/client/${t.client_id}`,t,e,u.REPO_ENDPOINT),ad=(t,e)=>k(`/auth/v1/oauth2/client/${t.client_id}/verificationPrecheck`,t,e,u.REPO_ENDPOINT),ud=(t,e)=>I(`/auth/v1/oauth2/client/secret/${e}`,void 0,t,u.REPO_ENDPOINT),cd=async t=>_("/auth/v1/authenticatedOn",t,u.REPO_ENDPOINT),ld=(t,e)=>I("/auth/v1/oauth2/consent",t,e,u.REPO_ENDPOINT),dd=(t,e)=>I(`/repo/v1/form/group?name=${encodeURI(t)}`,void 0,e,u.REPO_ENDPOINT),hd=(t,e)=>_(`/repo/v1/form/group/${t}/acl`,e,u.REPO_ENDPOINT),fd=(t,e,r)=>k(`/repo/v1/form/group/${t}/acl`,e,r,u.REPO_ENDPOINT),pd=(t,e,r,n)=>{const s={name:e,fileHandleId:r};return I(`/repo/v1/form/data?groupId=${t}`,s,n,u.REPO_ENDPOINT)},gd=(t,e,r,n)=>{const s={name:e,fileHandleId:r};return k(`/repo/v1/form/data/${t}`,s,n,u.REPO_ENDPOINT)},yd=(t,e)=>te(`/repo/v1/form/data/${t}`,e,u.REPO_ENDPOINT),Ed=(t,e)=>I(`/repo/v1/form/data/${t}/submit`,void 0,e,u.REPO_ENDPOINT),md=(t,e)=>I("/repo/v1/form/data/list",t,e,u.REPO_ENDPOINT),vd=(t,e)=>I("/repo/v1/form/data/list/reviewer",t,e,u.REPO_ENDPOINT),Td=(t,e)=>k(`/repo/v1/form/data/${t}/accept`,void 0,e,u.REPO_ENDPOINT),Pd=(t,e,r)=>{const n={reason:e};return k(`/repo/v1/form/data/${t}/reject`,n,r,u.REPO_ENDPOINT)},Od=(t,e)=>I("/repo/v1/statistics",t,e,u.REPO_ENDPOINT),Rd=(t,e)=>I("/repo/v1/restrictionInformation",t,e,u.REPO_ENDPOINT),_d=(t,e,r=50,n=0)=>{const s=`${du(e)}?limit=${r}&offset=${n}`;return _(s,t,u.REPO_ENDPOINT)},Id=(t,e)=>_(_t(e),t,u.REPO_ENDPOINT),Ad=(t,e)=>At(()=>_(Nu(e),t,u.REPO_ENDPOINT)),Sd=(t,e)=>I(Su,e,t,u.REPO_ENDPOINT);function bd(t,e){return _(Cu(e),t,u.REPO_ENDPOINT)}const Nd=(t,e)=>tt((n,s)=>{const i=`/repo/v1/entity/${e}/accessRequirement?limit=${n}&offset=${s}`;return _(i,t,u.REPO_ENDPOINT)});function Cd(t,e){return I(`/repo/v1/entity/${t}/lockAccessRequirement`,null,e,u.REPO_ENDPOINT)}const Dd=async(t,e)=>{const r=`${Gu(e)}`;return _(r,t,u.REPO_ENDPOINT)},wd=async(t,e)=>I(ri,e,t,u.REPO_ENDPOINT),Ud=t=>_("/file/v1/download/list",t,u.REPO_ENDPOINT),Ld=(t,e)=>{const r="/file/v1/download/order",n=t?`${r}?zipFileName=${t}`:r;return I(n,void 0,e,u.REPO_ENDPOINT)},tt=async t=>{let r=0,n=!0;const s=[];for(;n;)try{const i=await t(50,r);s.push(...i.results),r+=i.results.length,i.results.length<50&&(n=!1)}catch(i){throw Error(`Error on getting paginated results ${i}`)}return s};async function dn(t){let e=!0,r;const n=[];for(;e;)try{const s=await t(r);"results"in s?n.push(...s.results):"page"in s&&n.push(...s.page),r=s.nextPageToken,r||(e=!1)}catch(s){throw Error(`Error on getting paginated results ${s}`)}return n}const Fd=(t,e)=>I("/file/v1/download/list/remove",{list:t},e,u.REPO_ENDPOINT).then(r=>(si(r),r)),xd=t=>te("/file/v1/download/list",t,u.REPO_ENDPOINT).then(()=>{si(void 0)}),$d=async(t,e=void 0)=>{const r=await I(`/repo/v1/entity/${t.entityId}/table/transaction/async/start`,t,e,u.REPO_ENDPOINT);return Re(r.token,`/repo/v1/entity/${t.entityId}/table/transaction/async/get/${r.token}`,e)},Md=(t,e)=>I("/auth/v1/personalAccessToken",t,e,u.REPO_ENDPOINT),Kd=(t,e)=>_(`/auth/v1/personalAccessToken${e?"?nextPageToken="+e:""}`,t,u.REPO_ENDPOINT),Bd=(t,e)=>te(`/auth/v1/personalAccessToken/${t}`,e,u.REPO_ENDPOINT),Qd=(t,e={})=>{const r=new URLSearchParams(gr(e));return _(`${tc}?${r.toString()}`,t,u.REPO_ENDPOINT)},qd=(t,e={},r)=>{const n=new URLSearchParams(gr(e));return _(`/repo/v1/projects/user/${t}?${n.toString()}`,r,u.REPO_ENDPOINT)},kd=(t,e)=>_(js(t),e,u.REPO_ENDPOINT),Vd=(t,e={},r)=>{const n=new URLSearchParams(gr(e));return tt((i,c)=>{const l=`${su(t)}?offset=${c}&limit=${i}&${n.toString()}`;return _(l,r,u.REPO_ENDPOINT)})},jd=(t,e)=>_(ou(t),e,u.REPO_ENDPOINT),Hd=(t,e)=>_(iu(t),e,u.REPO_ENDPOINT),Wd=(t,e,r=0,n=200)=>_(`/repo/v1/entity/${t}/version?offset=${r}&limit=${n}`,e,u.REPO_ENDPOINT),Gd=(t,e)=>I("/repo/v1/search",t,e,u.REPO_ENDPOINT);async function hn(t,e){const n=await I("/repo/v1/download/list/query/async/start",{concreteType:"org.sagebionetworks.repo.model.download.DownloadListQueryRequest",requestDetails:e},t,u.REPO_ENDPOINT);return(await Re(n.token,`/repo/v1/download/list/query/async/get/${n.token}`,t)).responseDetails}const Yd=t=>te("/repo/v1/download/list",t,u.REPO_ENDPOINT),zd=(t,e=void 0)=>hn(e,t),Jd=(t=void 0)=>hn(t,{concreteType:"org.sagebionetworks.repo.model.download.FilesStatisticsRequest"}),_i=(t,e=void 0)=>hn(e,t),Xd=(t,e=void 0)=>dn(()=>_i(t,e)),Zd=(t,e=void 0)=>I("/repo/v1/download/list/remove",{batchToRemove:[t]},e,u.REPO_ENDPOINT),eh=(t,e)=>I(Ju,t,e,u.REPO_ENDPOINT),th=(t,e)=>_(Xu(t),e,u.REPO_ENDPOINT),rh=(t,e)=>_(zu(t),e,u.REPO_ENDPOINT);function nh(t,e){return I(ni,t,e,u.REPO_ENDPOINT)}const sh=(t,e)=>I(Yu(t.requestId),t,e,u.REPO_ENDPOINT),ih=(t,e)=>k(`/repo/v1/dataAccessSubmission/${t}/cancellation`,void 0,e,u.REPO_ENDPOINT),oh=(t,e)=>_(Js(t),e,u.REPO_ENDPOINT),ah=(t,e)=>k(Js(t.submissionId),t,e,u.REPO_ENDPOINT),uh=(t,e)=>At(()=>_(cu(t),e,u.REPO_ENDPOINT)),ch=(t,e)=>_(lu(t),e,u.REPO_ENDPOINT),lh=t=>_(`${pu(t)}`,void 0,u.REPO_ENDPOINT),dh=async(t,e)=>{const r=await I(gu,{concreteType:"org.sagebionetworks.repo.model.schema.GetValidationSchemaRequest",$id:t},e,u.REPO_ENDPOINT);return Re(r.token,yu(r.token),e)},hh=(t,e,r)=>_(`${nu(t)}?accessType=${e}`,r,u.REPO_ENDPOINT),fh=(t,e,r,n)=>{const s=new URLSearchParams;s.set("includeDerivedAnnotations",String(r));const i=e?uu(t,e):Hs(t);return _(`${i}?${s.toString()}`,n,u.REPO_ENDPOINT)},ph=(t,e,r)=>k(Hs(t),e,r,u.REPO_ENDPOINT),gh=t=>_(Pu,t,u.REPO_ENDPOINT),yh=(t,e)=>I(Ou,t,e,u.REPO_ENDPOINT),Eh=(t,e)=>I(Ru(e),t,void 0,u.REPO_ENDPOINT),mh=t=>I(_u,t,void 0,u.REPO_ENDPOINT),Ii=(t,e,r,n,s=u.REPO_ENDPOINT)=>I("/auth/v1/oauth2/account2",{provider:e,authenticationCode:r,redirectUrl:n,userName:t},void 0,s),Ai=async(t,e,r,n=u.REPO_ENDPOINT)=>{const s=await mi();return I("/auth/v1/oauth2/alias",{provider:t,authenticationCode:e,redirectUrl:r},s,n)},vh=async(t,e,r)=>{const n=`/auth/v1/oauth2/alias?provider=${t}&alias=${encodeURIComponent(r)}`;return te(n,e,u.REPO_ENDPOINT)},Th=t=>I(Iu,{accessToken:t},void 0,u.REPO_ENDPOINT),Ph=(t,e)=>I(Au,t,e,u.REPO_ENDPOINT),Oh=(t,e)=>I("/auth/v1/user/changePassword",t,e,u.REPO_ENDPOINT),Rh=t=>I("/auth/v1/user/changePassword",t,void 0,u.REPO_ENDPOINT),_h=t=>{const e=window.location.href+"?passwordResetToken=",r=`/auth/v1/user/password/reset?passwordResetEndpoint=${encodeURIComponent(e)}`;return I(r,{email:t},void 0,u.REPO_ENDPOINT)},Ih=(t,e,r,n)=>I(`/repo/v1/account/${e}/emailValidation?portalEndpoint=${r}`,{email:t},n,u.REPO_ENDPOINT),Ah=(t,e)=>I("/repo/v1/email",t,e,u.REPO_ENDPOINT),Sh=(t,e)=>te(`/repo/v1/email?email=${e}`,t,u.REPO_ENDPOINT),bh=(t,e)=>k("/repo/v1/notificationEmail",{email:t},e,u.REPO_ENDPOINT),Nh=(t,e)=>_(`/repo/v1/project/${t}/forum`,e,u.REPO_ENDPOINT),Ch=(t,e)=>_(`/repo/v1/reply/${t}`,e,u.REPO_ENDPOINT),Dh=(t,e)=>I("/repo/v1/reply",t,e,u.REPO_ENDPOINT),wh=(t,e)=>k(`/repo/v1/reply/${t.replyId}/message`,{messageMarkdown:t.messageMarkdown},e,u.REPO_ENDPOINT),Uh=(t,e)=>te(`/repo/v1/reply/${e}`,t,u.REPO_ENDPOINT),Lh=(t,e,r=30,n=0,s=Io.CREATED_ON,i=!0,c=Cs.EXCLUDE_DELETED)=>{const l=new URLSearchParams;l.set("offset",n.toString()),l.set("limit",r.toString()),l.set("sort",s),l.set("ascending",i.toString()),l.set("filter",c);const m=`${It}/${e}/replies?${l.toString()}`;return _(m,t,u.REPO_ENDPOINT)},Fh=(t,e)=>_(`/repo/v1/reply/messageUrl?messageKey=${t}`,e,u.REPO_ENDPOINT),xh=(t,e)=>k(`${Yt(e)}/pin`,void 0,t,u.REPO_ENDPOINT),$h=(t,e)=>k(`${Yt(e)}/unpin`,void 0,t,u.REPO_ENDPOINT),Mh=(t,e)=>_(Yt(t),e,u.REPO_ENDPOINT),Kh=(t,e)=>_(`${It}/messageUrl?messageKey=${t}`,e,u.REPO_ENDPOINT),Bh=(t,e)=>I(It,e,t,u.REPO_ENDPOINT),Qh=(t,e)=>k(`${It}/${e.threadId}/title`,{title:e.title},t,u.REPO_ENDPOINT),qh=(t,e)=>k(`${It}/${e.threadId}/message`,{messageMarkdown:e.messageMarkdown},t,u.REPO_ENDPOINT),kh=(t,e)=>te(Yt(e),t,u.REPO_ENDPOINT),Vh=(t,e)=>k(`${Yt(e)}/restore`,void 0,t,u.REPO_ENDPOINT),jh=(t,e,r=20,n=0)=>{const s=new URLSearchParams;return s.set("offset",n.toString()),s.set("limit",r.toString()),_(`${hr}/${e}/moderators?${s.toString()}`,t,u.REPO_ENDPOINT)},Hh=(t,e)=>_(`${hr}/${e}`,t,u.REPO_ENDPOINT),Wh=(t,e,r)=>I(`${hr}/${e}/search`,t,r,u.REPO_ENDPOINT),Gh=(t,e,r=0,n=20,s=Ao.PINNED_AND_LAST_ACTIVITY,i=!0,c=Cs.EXCLUDE_DELETED)=>{const l=new URLSearchParams;l.set("offset",r.toString()),l.set("limit",n.toString()),l.set("sort",s),l.set("ascending",i.toString()),l.set("filter",c);const m=`${ju(e)}?${l.toString()}`;return _(m,t,u.REPO_ENDPOINT)},Yh=(t,e)=>I("/repo/v1/accessApproval/search",t,e,u.REPO_ENDPOINT),zh=(t,e)=>I(bu,t,e,u.REPO_ENDPOINT),Jh=(t,e)=>I(Lu(t.accessRequirementId),t,e,u.REPO_ENDPOINT),Xh=(t,e,r)=>{const n=Fu(t,e?`${e}`:void 0);return _(n,r,u.REPO_ENDPOINT)};function Zh(t){return At(()=>_(Uu(t)+"?redirect=false",void 0,u.REPO_ENDPOINT))}function ef(t,e=0,r=25){return _(xu+`?offset=${e}&limit=${r}`,t,u.REPO_ENDPOINT)}function tf(t,e){return k($u(t),void 0,e,u.REPO_ENDPOINT)}function rf(t,e){return k(Mu(t),void 0,e,u.REPO_ENDPOINT)}function nf(t){return _("/repo/v1/certifiedUserTest",t,u.REPO_ENDPOINT)}function sf(t,e){return I("/repo/v1/certifiedUserTestResponse",e,t,u.REPO_ENDPOINT)}const fn="https://s3.amazonaws.com/geoloc.sagebase.org/",of=fn+"allPoints.json",af=fn+"googlemap.txt";async function uf(){return await(await fetch(af)).text()}async function cf(){return await(await fetch(of)).json()}async function lf(t){const e=await fetch(`${fn}${t}.json`);return e.status==200?await e.json():[]}function df(t,e=100,r=0,n){const s=new URLSearchParams;return s.set("limit",e.toString()),s.set("offset",r.toString()),s.set("objectType",n.objectType),n.sortBy&&s.set("sortBy",n.sortBy),n.sortDirection&&s.set("sortDirection",n.sortDirection),_(`/repo/v1/subscription/all?${s.toString()}`,t,u.REPO_ENDPOINT)}function hf(t,e){return _(`/repo/v1/subscription/${e}`,t,u.REPO_ENDPOINT)}function ff(t,e){return I("/repo/v1/subscription/subscribers",e,t,u.REPO_ENDPOINT)}function pf(t,e){return I("/repo/v1/subscription",e,t,u.REPO_ENDPOINT)}function gf(t,e){return te(`/repo/v1/subscription/${e}`,t,u.REPO_ENDPOINT)}function yf(t,e){return I("/repo/v1/subscription/list",e,t,u.REPO_ENDPOINT)}function Ef(t,e){return _(`/file/v1/entity/${t}/uploadDestination`,e,u.REPO_ENDPOINT)}function mf(t,e,r){return _(`/file/v1/entity/${t}/uploadDestination/${e}`,r,u.REPO_ENDPOINT)}function vf(t,e,r,n="ENTITY"){const s=new URLSearchParams;return s.set("type",n),s.set("id",e),r&&s.set("type",r.toString()),At(()=>_(`${Wu}?${s.toString()}`,t,u.REPO_ENDPOINT))}function Tf(t,e,r){const n=new URLSearchParams;return n.set("fileHandleId",t),e&&r&&(n.set("associatedObjectId",e),n.set("associatedObjectType",r.toString())),`${Pt(u.PORTAL_ENDPOINT)}/Portal/filehandleassociation?${n.toString()}`}const Pf=(t,e)=>_(rc(t),e,u.REPO_ENDPOINT),Of=(t,e,r=0,n=20,s=So.CREATED_ON,i=bo.DESC)=>{const c=new URLSearchParams;return c.set("offset",r.toString()),c.set("limit",n.toString()),c.set("sort",s),c.set("sortDirection",i),_(`/repo/v1/entity/${t}/dockerTag?${c.toString()}`,e,u.REPO_ENDPOINT)};function Rf(t,e,r){const n=new URLSearchParams;return r&&n.set("nextPageToken",r),_(`/repo/v1/accessRequirement/${e}/subjects?${n.toString()}`,t,u.REPO_ENDPOINT)}function _f(t,e){return I("/repo/v1/column/batch",{list:e.map(r=>({...r,concreteType:"org.sagebionetworks.repo.model.table.ColumnModel"})),concreteType:"org.sagebionetworks.repo.model.ListWrapper"},t,u.REPO_ENDPOINT)}function If(t,e){const r=new URLSearchParams;return t!=null&&r.set("viewEntityType",t),e!=null&&r.set("viewTypeMask",e.toString()),_(`/repo/v1/column/tableview/defaults?${r.toString()}`,void 0,u.REPO_ENDPOINT)}async function Af(t,e=void 0){return dn(async n=>{t.nextPageToken=n;const s=await I("/repo/v1/column/view/scope/async/start",t,e,u.REPO_ENDPOINT);return Re(s.token,`/repo/v1/column/view/scope/async/get/${s.token}`,e)})}const Sf=["DM Sans","sans-serif"].join(","),bf=["Menlo","Courier New","Courier","monospace"].join(","),z={fontStyle:"normal",letterSpacing:"0px"},Nf=t=>({fontFamily:Sf,headline1:{...z,fontSize:"24px",fontWeight:700,lineHeight:"28px"},headline2:{...z,fontSize:"20px",fontWeight:400,lineHeight:"24px"},headline3:{...z,fontSize:"18px",fontWeight:700,lineHeight:"20px"},body1:{...z,fontSize:"16px",fontWeight:400,lineHeight:"24px"},body1Italic:{...z,fontSize:"16px",fontWeight:400,lineHeight:"24px",fontStyle:"italic"},body2:{...z,fontSize:"12px",fontWeight:400,lineHeight:"24px"},breadcrumb1:{...z,fontSize:"14px",fontWeight:400,lineHeight:"16px"},breadcrumb2:{...z,fontSize:"14px",fontWeight:700,lineHeight:"16px"},smallText1:{...z,fontSize:"14px",fontWeight:400,lineHeight:"16px"},smallText2:{...z,fontSize:"14px",fontWeight:700,lineHeight:"16px"},smallLink:{...z,fontSize:"14px",fontWeight:900,lineHeight:"16px"},label:{...z,fontSize:"14px",fontWeight:700,lineHeight:"16px"},buttonLink:{...z,fontSize:"16px",fontWeight:900,lineHeight:"20px"},hintText:{...z,fontSize:"16px",fontWeight:400,lineHeight:"24px"},sectionTitle:{...z,fontSize:"21px",fontWeight:700,lineHeight:"25px",textTransform:"uppercase"},subsectionHeader:{...z,fontSize:"18px",fontWeight:700,lineHeight:"21px"},dataFieldKey:{...z,fontSize:"14px",fontWeight:400,lineHeight:"16px",color:t.grey[700],textTransform:"uppercase"},monospace:{...z,fontFamily:bf,fontSize:"13px"}}),B=(t,e)=>({100:fe(t).desaturate(25).lighten(50).toString(),200:fe(t).desaturate(13).lighten(20).toString(),300:fe(t).desaturate(3).lighten(10).toString(),400:fe(t).desaturate(1).lighten(5).toString(),500:fe(t).toString(),600:fe(t).saturate(5).darken(4).toString(),700:fe(t).saturate(11).darken(8).toString(),800:fe(t).saturate(18).darken(10).toString(),900:fe(t).saturate(24).darken(18).toString(),light:e&&400 in e&&e[400]||fe(t).desaturate(1).lighten(5).toString(),main:fe(t).toString(),dark:e&&600 in e&&e[600]||fe(t).saturate(5).darken(4).toString(),contrastText:"#fff",...e}),se={primary:B("#395979",{100:"#d7dee4",200:"#b0bdc9",300:"#889baf",400:"#617a94",500:"#395979",600:"#2e4761",700:"#223549",800:"#172430",900:"#0b1218"}),secondary:B("#469285",{100:"#dae9e7",200:"#b5d3ce",300:"#90beb6",400:"#6ba89d",500:"#469285",600:"#38756a",700:"#2a6960",800:"#1c3a35",900:"#0e1d1b"}),tertiary:B("#EDC766",{100:"#fbf4e0",200:"#f8e9c2",300:"#f4dda3",400:"#f1d285",500:"#edc766",600:"#be9f52",700:"#8e773d",800:"#5f5029",900:"#2f2814"}),grey:{1e3:"#22252a",900:"#353a3f",800:"#4a5056",700:"#878e95",600:"#aeb5bc",500:"#d0d4d9",400:"#dfe2e6",300:"#eaecee",200:"#f1f3f5",100:"#fbfbfc"},neutral:B("#878e95"),darkPrimary:B("#164B6E"),lightPrimary:{...B("#f8f9fa"),contrastText:"#164B6E"},light:{...B("#f8f9fa"),contrastText:"#22252a"},success:{main:"#32a330"},info:{main:"#017fa5"},warning:{main:"#cc9f00"},error:{main:"#c13415"},text:{primary:"#353a3f",secondary:"#4a5056"},contrastThreshold:4.5},xg={...se,primary:B("#4F527D"),secondary:B("#9499C7")},$g={...se,primary:B("#e79776"),secondary:B("#e79776")},Mg={...se,primary:B("#4d5491"),secondary:B("#2f8e94")},Kg={...se,primary:B("#39AC97"),secondary:B("#39AC97")},Bg={...se,primary:{...B("#125e81"),contrastText:"#fff"},secondary:{...B("#404b63"),contrastText:"#fff"}},Qg={...se,primary:B("#00255c"),secondary:B("#2699a7")},qg={...se,primary:B("#00565e"),secondary:B("#f7a700")},kg={...se,primary:B("#4d5491"),secondary:B("#4d5491")},Vg={...se,primary:B("#3e7293"),secondary:B("#164767")},jg={...se,primary:B("#0085ff"),secondary:B("#0085ff")},Hg={...se,primary:B("#38568e"),secondary:B("#47337d")},Wg={...se,primary:B("#24AB9F"),secondary:B("#F5B33C")};({...se,primary:B("#407BA0"),secondary:B("#407BA0")});const Gg={...se,primary:B("#5F6870"),secondary:B("#4CB848")},Cf={defaultProps:{underline:"always"},styleOverrides:{root:({theme:t})=>({fontWeight:700,letterSpacing:"0.5px","&:hover":{color:t.palette.primary.main}}),underlineAlways:({theme:t})=>({textDecoration:"underline",textUnderlineOffset:"4px",textDecorationThickness:"1px",textDecorationColor:t.palette.grey[600],"&:hover":{textDecorationColor:t.palette.primary.main,textDecorationThickness:"2px"}}),underlineHover:{"&:hover":{textUnderlineOffset:"4px",textDecorationThickness:"2px"}}}},Ue="2px",Bn=to,Si={typography:Nf,palette:se,components:{MuiAlert:{defaultProps:{square:!0,iconMapping:{error:U.jsx(na,{}),info:U.jsx(Ji,{}),success:U.jsx(Xi,{}),warning:U.jsx(ra,{})}},styleOverrides:{root:({ownerState:t,theme:e})=>({alignItems:"center",fontSize:"14px",borderLeft:`10px solid ${e.palette[t.severity||"success"].main}`,color:e.palette.text.primary}),icon:({theme:t})=>({marginRight:t.spacing(3)}),action:({ownerState:t,theme:e})=>({paddingRight:e.spacing(2),...t.onClose&&!t.action&&{color:e.palette.grey[700]}}),standardSuccess:({theme:t})=>({backgroundColor:Xt(t.palette.success.light,.8)}),standardError:({theme:t})=>({backgroundColor:Xt(t.palette.error.light,.8)}),standardWarning:({theme:t})=>({backgroundColor:Xt(t.palette.warning.light,.8)}),standardInfo:({theme:t})=>({backgroundColor:Xt(t.palette.info.light,.8)})}},MuiAlertTitle:{styleOverrides:{root:({theme:t})=>({color:t.palette.text.primary,fontSize:"14px",fontWeight:700})}},MuiLink:Cf,MuiButtonBase:{defaultProps:{disableRipple:!0}},MuiButton:{styleOverrides:{root:{fontWeight:900,padding:"6px 12px",borderRadius:"3px",textTransform:"capitalize","&:hover":{transition:"0.2s"}},contained:({theme:t,ownerState:e})=>({"&:hover, &:visited":{color:e.color==="inherit"?e.color:t.palette[e.color||"primary"].contrastText}}),outlined:({theme:t,ownerState:e})=>({"&:hover, &:visited":{color:e.color==="inherit"?e.color:t.palette[e.color||"primary"].dark}}),text:({theme:t,ownerState:e})=>({"&:hover":{textDecoration:"underline",textUnderlineOffset:"4px",textDecorationColor:e.color==="inherit"?e.color:t.palette[e.color||"primary"].main,textDecorationThickness:"2px"},"&:hover, &:visited":{color:e.color==="inherit"?e.color:t.palette[e.color||"primary"].main}})}},MuiCard:{styleOverrides:{root:{border:"1px solid rgba(0, 0, 0, 0.05)",boxShadow:"0px 16px 16px rgba(0, 0, 0, 0.05), 0px 4px 4px rgba(0, 0, 0, 0.05), 0px 1px 1px rgba(0, 0, 0, 0.05)"}},defaultProps:{square:!0}},MuiCheckbox:{defaultProps:{color:"secondary"}},MuiDialog:{defaultProps:{PaperProps:{sx:t=>({borderRadius:"0px",padding:t.spacing(5.5),alignSelf:"flex-start"})}}},MuiDialogTitle:{styleOverrides:{root:({theme:t})=>({fontSize:"24px",fontWeight:700,paddingLeft:"0px",paddingRight:"0px",paddingBottom:t.spacing(3)})}},MuiDialogContent:{defaultProps:{dividers:!0},styleOverrides:{root:({ownerState:t,theme:e})=>({color:e.palette.text.secondary,paddingTop:t.dividers?e.spacing(3):0,paddingBottom:t.dividers?e.spacing(3):0,paddingLeft:Ue,paddingRight:Ue,marginLeft:`-${Ue}`,marginRight:`-${Ue}`,borderImage:t.dividers?`linear-gradient(to right, transparent 0px, transparent ${Ue}, ${e.palette.grey[400]} ${Ue}, ${e.palette.grey[400]} calc(100% - ${Ue}), transparent calc(100% - ${Ue})) 1`:void 0})}},MuiDialogActions:{styleOverrides:{root:({theme:t})=>({paddingLeft:"0px",paddingRight:"0px",paddingTop:t.spacing(3),"& .MuiButton-root":{height:"36px",padding:"0px 16px"}})}},MuiFormHelperText:{styleOverrides:{root:({theme:t})=>({marginLeft:"0","&.Mui-error":{color:t.palette.error.main}})}},MuiInputBase:{styleOverrides:{root:({theme:t,ownerState:e})=>{const r=e.error||e.focused;let n="none";r&&(e.error?n=`1px solid ${t.palette.error.main}`:e.color&&(n=`1px solid ${t.palette[e.color].main}`));const s=e.color==="warning"?t.palette[e.color].main:void 0;return{borderRadius:"3px",fontSize:"14px",position:"relative",backgroundColor:t.palette.grey[200],outline:n,"&+.MuiFormHelperText-root":{color:s},"&.Mui-disabled":{backgroundColor:t.palette.grey[100]},"&.Mui-focused":{boxShadow:`${Zi(t.palette.primary.main,.25)} 0 0 0 0.1rem`},"& fieldset":{border:"none"}}},input:({theme:t})=>({padding:"14px 12px"}),multiline:{padding:"0px"}}},MuiInputLabel:{defaultProps:{shrink:!0},styleOverrides:{root:({theme:t})=>({fontWeight:700,mb:"4px",fontSize:"14px",transform:"none"})}},MuiTextField:{styleOverrides:{root:({theme:t,ownerState:e})=>({[`& .${eo.root}`]:{marginTop:e.label&&t.spacing(3)}})}},MuiMenu:{defaultProps:{TransitionComponent:Bn}},MuiMenuItem:{styleOverrides:{root:{height:"38px",paddingLeft:"12px",paddingRight:"12px"}}},MuiTab:{styleOverrides:{root:{fontWeight:900,textTransform:"capitalize"}}},MuiTooltip:{defaultProps:{arrow:!0,TransitionComponent:Bn},styleOverrides:{arrow:({theme:t})=>({color:t.palette.common.black}),tooltip:({theme:t})=>({fontSize:"14px",borderRadius:"2px",backgroundColor:t.palette.common.black,"& .MuiLink-root":{color:"#fff"}})}},MuiTypography:{defaultProps:{variantMapping:{headline1:"p",headline2:"p",headline3:"p",body1:"p",body1Italic:"p",body2:"p",breadcrumb1:"span",breadcrumb2:"span",smallText1:"p",smallText2:"p",smallLink:"span",label:"span",buttonLink:"span",hintText:"p",sectionTitle:"p",subsectionHeader:"p",dataFieldKey:"p"}}}},styledBackground:"url('https://s3.amazonaws.com/static.synapse.org/images/SynapseLoginPageBackground.svg')"};function Df(t){return so(Si,t)}const Kr=({theme:t=Si,children:e})=>{const r=K.useMemo(()=>Df(t),[t]),n=io(r);return U.jsx(oo,{injectFirst:!0,children:U.jsx(zo,{theme:n,children:e})})};try{Kr.displayName="ThemeProvider",Kr.__docgenInfo={description:"",displayName:"ThemeProvider",props:{theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"ThemeOptions"}}}}}catch{}var wf=function(e,r){return e===void 0&&(e=[]),r===void 0&&(r=[]),e.length!==r.length||e.some(function(n,s){return!Object.is(n,r[s])})},Qn={error:null},Uf=function(t){De(e,t);function e(){for(var n,s=arguments.length,i=new Array(s),c=0;c<s;c++)i[c]=arguments[c];return n=t.call.apply(t,[this].concat(i))||this,n.state=Qn,n.resetErrorBoundary=function(){for(var l,m=arguments.length,g=new Array(m),E=0;E<m;E++)g[E]=arguments[E];n.props.onReset==null||(l=n.props).onReset.apply(l,g),n.reset()},n}e.getDerivedStateFromError=function(s){return{error:s}};var r=e.prototype;return r.reset=function(){this.setState(Qn)},r.componentDidCatch=function(s,i){var c,l;(c=(l=this.props).onError)==null||c.call(l,s,i)},r.componentDidUpdate=function(s,i){var c=this.state.error,l=this.props.resetKeys;if(c!==null&&i.error!==null&&wf(s.resetKeys,l)){var m,g;(m=(g=this.props).onResetKeysChange)==null||m.call(g,s.resetKeys,l),this.reset()}},r.render=function(){var s=this.state.error,i=this.props,c=i.fallbackRender,l=i.FallbackComponent,m=i.fallback;if(s!==null){var g={error:s,resetErrorBoundary:this.resetErrorBoundary};if(K.isValidElement(m))return m;if(typeof c=="function")return c(g);if(l)return K.createElement(l,g);throw new Error("react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop")}return this.props.children},e}(K.Component);function Yg(t){var e=K.useState(null),r=e[0],n=e[1];if(t!=null)throw t;if(r!=null)throw r;return n}function Lf(t){const{accessToken:e,keyFactory:r}=we();return Rt({...t,queryKey:r.getNotificationEmailQueryKey(),queryFn:()=>oe.getNotificationEmail(e)})}function Ff(t){const{accessToken:e,keyFactory:r}=we(),n=r.getCurrentUserProfileQueryKey();return Rt({...t,queryKey:n,queryFn:()=>oe.getUserProfile(e)})}const bi=ps|gs|ys|Es|ms|vs|Ts;function zg(t,e=bi,r){const{accessToken:n,keyFactory:s}=we(),i=s.getUserBundleQueryKey(t,e);return Rt({...r,queryKey:i,queryFn:()=>oe.getUserBundle(t,e,n)})}function xf(t=bi,e){const{accessToken:r,keyFactory:n}=we(),s=n.getUserBundleQueryKey("current",t);return Rt({...e,queryKey:s,queryFn:()=>oe.getMyUserBundle(t,r)})}function Jg(t,e){const{accessToken:r,keyFactory:n}=we(),s=n.getUserProfileQueryKey(t),i=`${t}_USER_PROFILE`,c=sessionStorage.getItem(i);return Rt({...e,queryKey:s,queryFn:async()=>{const l=await oe.getUserProfileById(t,r);return sessionStorage.setItem(i,JSON.stringify(l)),l},placeholderData:c?JSON.parse(c):e==null?void 0:e.placeholderData})}function Xg(t,e){const{accessToken:r,keyFactory:n}=we(),s=n.getPrincipalAliasQueryKey(t);return Rt({...e,queryKey:s,queryFn:async()=>(await oe.getPrincipalAliasRequest(r,t)).principalId})}function Zg(){return xf(void 0,{select:t=>t.isACTMember})}const $f={SWC:"https://sagebionetworks.jira.com/s/d41d8cd98f00b204e9800998ecf8427e-T/-bhcm7i/b/6/e73395c53c3b10fde2303f4bf74ffbf6/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-US&collectorId=ddc881b3","Flagged Content":"https://sagebionetworks.jira.com/s/d41d8cd98f00b204e9800998ecf8427e-T/g39zuk/b/41/e73395c53c3b10fde2303f4bf74ffbf6/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-US&collectorId=d0abcfa9","Request Access":"https://sagebionetworks.jira.com/s/d41d8cd98f00b204e9800998ecf8427e-T/-2rg9hj/b/25/e73395c53c3b10fde2303f4bf74ffbf6/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-US&collectorId=bd4dc1e5"};function Br(t){const{issueCollector:e,issueSummary:r,issueDescription:n,principalId:s,userDisplayName:i,userEmailAddress:c,synapseDataObjectId:l,componentId:m,accessRequirementId:g,issuePriority:E}=t;try{if(window.jQuery==null)throw new Error("jQuery is not present. Jira Issue Collector will not be shown.");window.jQuery.ajax({url:$f[e],type:"get",cache:!0,dataType:"script"}),window.ATL_JQ_PAGE_PROPS={triggerFunction:function(T){T()},fieldValues:{summary:r,description:n,priority:E,customfield_10840:c,email:c,customfield_10841:g,customfield_10740:s,customfield_10741:i,customfield_10742:l,fullname:i,components:m}}}catch(T){console.error(T)}}function Qr(t){const{show:e,issueCollector:r,issueSummary:n,issueDescription:s,issuePriority:i,accessRequirementId:c,synapseDataObjectId:l,componentId:m}=t,{accessToken:g}=we(),{data:E,isLoading:T}=Ff({enabled:!!g}),{data:v,isLoading:P}=Lf({enabled:!!g});K.useEffect(()=>{e&&g?E&&v?Br({issueCollector:r,issueSummary:n,issueDescription:s,synapseDataObjectId:l,componentId:m,accessRequirementId:c,issuePriority:i,principalId:E.ownerId,userDisplayName:E.displayName,userEmailAddress:v.email}):console.warn("Fetching profile data to display Jira popup"):e&&!g&&console.error("User not logged in, not showing Jira popup")},[e,g,T,P])}try{Br.displayName="showJiraIssueCollector",Br.__docgenInfo={description:"Shows the Jira issue collector when invoked.",displayName:"showJiraIssueCollector",props:{issueCollector:{defaultValue:null,description:"",name:"issueCollector",required:!0,type:{name:"enum",value:[{value:'"SWC"'},{value:'"Flagged Content"'},{value:'"Request Access"'}]}},issueSummary:{defaultValue:null,description:"",name:"issueSummary",required:!0,type:{name:"string"}},issueDescription:{defaultValue:null,description:"",name:"issueDescription",required:!0,type:{name:"string"}},issuePriority:{defaultValue:null,description:"",name:"issuePriority",required:!0,type:{name:"enum",value:[{value:'"1"'},{value:'"2"'},{value:'"3"'},{value:'"4"'},{value:'"5"'}]}},accessRequirementId:{defaultValue:null,description:"",name:"accessRequirementId",required:!1,type:{name:"string"}},synapseDataObjectId:{defaultValue:null,description:"",name:"synapseDataObjectId",required:!1,type:{name:"string"}},componentId:{defaultValue:null,description:"",name:"componentId",required:!1,type:{name:"string"}},principalId:{defaultValue:null,description:"",name:"principalId",required:!0,type:{name:"string"}},userDisplayName:{defaultValue:null,description:"",name:"userDisplayName",required:!1,type:{name:"string"}},userEmailAddress:{defaultValue:null,description:"",name:"userEmailAddress",required:!1,type:{name:"string"}}}}}catch{}try{Qr.displayName="useJiraIssueCollector",Qr.__docgenInfo={description:"Hook used to show the Jira issue collector within Synapse. The collector will only be shown if the user is logged in.",displayName:"useJiraIssueCollector",props:{accessRequirementId:{defaultValue:null,description:"",name:"accessRequirementId",required:!1,type:{name:"string"}},issueCollector:{defaultValue:null,description:"",name:"issueCollector",required:!0,type:{name:"enum",value:[{value:'"SWC"'},{value:'"Flagged Content"'},{value:'"Request Access"'}]}},issueSummary:{defaultValue:null,description:"",name:"issueSummary",required:!0,type:{name:"string"}},issueDescription:{defaultValue:null,description:"",name:"issueDescription",required:!0,type:{name:"string"}},issuePriority:{defaultValue:null,description:"",name:"issuePriority",required:!0,type:{name:"enum",value:[{value:'"1"'},{value:'"2"'},{value:'"3"'},{value:'"4"'},{value:'"5"'}]}},synapseDataObjectId:{defaultValue:null,description:"",name:"synapseDataObjectId",required:!1,type:{name:"string"}},componentId:{defaultValue:null,description:"",name:"componentId",required:!1,type:{name:"string"}},show:{defaultValue:null,description:"",name:"show",required:!0,type:{name:"boolean"}}}}}catch{}const qr=({className:t,style:e})=>U.jsx(Co,{type:"button",style:e,className:`SignInButton ${Yi} ${t}`,children:"Sign In"});try{qr.displayName="SignInButton",qr.__docgenInfo={description:"",displayName:"SignInButton",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}}}}}catch{}const Mf="You are not authorized to access this resource.",Kf=()=>U.jsxs(U.Fragment,{children:["Please ",U.jsx(qr,{})," to view this resource."]}),kr=t=>{const[e,r]=K.useState(!1),{accessToken:n}=we(),{error:s}=t,i=(s.status===403||s.status===401)&&!n,c=s.status===403&&n;return Qr({show:s.status>=500,issueCollector:"SWC",issueSummary:"",issueDescription:s.reason,issuePriority:"3"}),i?U.jsx(Kf,{}):c?U.jsxs(U.Fragment,{children:[U.jsxs(Do,{direction:"row",spacing:2,children:[U.jsx(An,{display:"flex",alignItems:"center",children:Mf}),U.jsxs(wo,{variant:"text",onClick:()=>r(l=>!l),children:[e?"Hide":"Show"," details"]})]}),U.jsx(Fo,{in:e,children:U.jsx(An,{paddingTop:1,children:U.jsx("pre",{children:s.reason})})})]}):U.jsx(U.Fragment,{children:s.reason})},or=t=>{const{error:e,reloadButtonFn:r}=t;if(!e)return U.jsx(U.Fragment,{});let n,s,i;return e instanceof st?n=e:e instanceof Error?s=e:typeof e=="string"&&(i=e),U.jsx(No,{variant:"danger",isGlobal:!1,description:U.jsxs(U.Fragment,{children:[n&&U.jsx(kr,{error:n}),s&&s.message,i&&i]}),primaryButtonConfig:r&&{text:"Reload",onClick:r}})},Vr=({error:t,resetErrorBoundary:e})=>U.jsx("div",{className:"SRC-marginBottomTop",children:U.jsx(or,{error:t,reloadButtonFn:e})}),qn=({error:t,resetErrorBoundary:e})=>U.jsx("tr",{children:U.jsx("td",{colSpan:999,children:U.jsx(or,{error:t,reloadButtonFn:e})})}),jr=t=>U.jsx(Uf,{FallbackComponent:Vr,...t});try{kr.displayName="ClientError",kr.__docgenInfo={description:"",displayName:"ClientError",props:{error:{defaultValue:null,description:"",name:"error",required:!0,type:{name:"SynapseClientError"}}}}}catch{}try{or.displayName="ErrorBanner",or.__docgenInfo={description:"",displayName:"ErrorBanner",props:{error:{defaultValue:null,description:"",name:"error",required:!1,type:{name:"string | Error | SynapseClientError | null"}},reloadButtonFn:{defaultValue:null,description:"",name:"reloadButtonFn",required:!1,type:{name:"(() => void)"}}}}}catch{}try{Vr.displayName="ErrorFallbackComponent",Vr.__docgenInfo={description:"",displayName:"ErrorFallbackComponent",props:{}}}catch{}try{qn.displayName="TableRowFallbackComponent",qn.__docgenInfo={description:"",displayName:"TableRowFallbackComponent",props:{}}}catch{}try{jr.displayName="SynapseErrorBoundary",jr.__docgenInfo={description:`ErrorBoundary component that uses the default error fallback component, unless overridden.
Internally uses \`react-error-boundary\`.

Use with {@link react-error-boundary#handleError handleError}`,displayName:"SynapseErrorBoundary",props:{}}}catch{}function Bf(t){const e=[...t];let r=e[e.length-1];for(;e.length>0&&(r===void 0||typeof r=="object"&&ta(gr(r)));)e.pop(),r=e[e.length-1];return e}const F={all:{objectType:"entity"},entity:(t,e)=>{const r={...F.all,id:t};return e&&(r.version=e),r},versions:t=>[F.entity(t),"versions"],versionsQuery:(t,e,r)=>[...F.versions(t),{limit:e,offset:r}],json:(t,e)=>[F.entity(t,e),"json"],allActionsRequired:()=>[F.all,"actionsRequired"],actionsRequired:t=>[F.entity(t),"actionsRequired"],entityForum:t=>[F.entity(t),"entityForum"],entityChallenge:t=>[F.entity(t),"entityChallenge"],activity:(t,e)=>[F.entity(t,e),"activity"],path:t=>[F.entity(t),"path"],bundle:(t,e,r)=>[F.entity(t,e),"entityBundle",r],children:(t,e)=>[F.entity(t.parentId??"root"),"children",{isInfinite:e,entityChildrenRequest:t}],tableQueryResult:(t,e)=>[F.entity(t.entityId),{type:"tableQueryResult"},{isInfinite:e,tableQueryBundleRequest:t}],tableQueryResultWithAsyncStatus:(t,e)=>[F.entity(t.entityId),{type:"tableQueryResult",withAsyncStatus:!0},{isInfinite:e,tableQueryBundleRequest:t}],fullTableQueryResult:(t,e)=>[F.entity(t.entityId),{type:"tableQueryResult",allResults:!0},{tableQueryBundleRequest:t,forceAnonymous:e}],boundJSONSchema:t=>[F.entity(t),"boundJSONSchema"],schemaValidationResults:t=>[F.entity(t),"schemaValidationResults"],header:(t,e)=>[F.entity(t,e),"entityHeaders"],headers:t=>[F.all,"entityHeaders",t],accessRequirements:t=>[F.entity(t),"accessRequirements"]},Oe={base:"downloadList",availableFiles:t=>[Oe.base,"availableFiles",t],availableFilesInfinite:t=>[Oe.availableFiles(t),"infinite"],getActionsRequired:()=>[Oe.base,"actionsRequired"],getActionsRequiredInfinite:()=>[...Oe.getActionsRequired(),"infinite"],getStatistics:()=>[Oe.base,"statistics"]},_e="accessRequirement";class Ni{constructor(e){nt(this,"accessToken");this.accessToken=e}getKey(...e){return[this.accessToken==null?"anonymous":btoa(String(qo(this.accessToken))),...Bf(e)]}getAllEntityDataQueryKey(){return this.getKey(F.all)}getEntityQueryKey(e){return this.getKey(F.entity(e))}getEntityActivityQueryKey(e,r){return this.getKey(...F.activity(e,r))}getAllEntityActionsRequiredQueryKey(){return this.getKey(...F.allActionsRequired())}getEntityActionsRequiredQueryKey(e){return this.getKey(...F.actionsRequired(e))}getEntityChallengeQueryKey(e){return this.getKey(...F.entityChallenge(e))}getForumQueryKey(e){return this.getKey(...F.entityForum(e))}getEntityVersionQueryKey(e,r){return this.getKey(F.entity(e,r))}getPaginatedEntityVersionsQueryKey(e,r,n){return this.getKey(...F.versionsQuery(e,r,n))}getEntityVersionsQueryKey(e){return this.getKey(...F.versions(e))}getEntityChildrenQueryKey(e,r){return this.getKey(...F.children(e,r))}getEntityJsonQueryKey(e,r,n){return this.getKey(...F.json(e,r),{includeDerivedAnnotations:n})}getEntityBundleQueryKey(e,r,n){return this.getKey(...F.bundle(e,r,n))}getEntityPathQueryKey(e){return this.getKey(...F.path(e))}getEntityACLQueryKey(e){return this.getKey(F.entity(e),"acl")}getEntityAliasQueryKey(e){return this.getKey(F.all,"alias",e)}getEntityEvaluationsQueryKey(e){return this.getKey(F.entity(e),"evaluations")}getEntityPermissionsQueryKey(e){return this.getKey(F.entity(e),"permissions")}getEntityBoundJsonSchemaQueryKey(e){return this.getKey(...F.boundJSONSchema(e))}getEntitySchemaValidationResultsQueryKey(e){return this.getKey(...F.schemaValidationResults(e))}getEntityHeaderQueryKey(e,r){return this.getKey(...F.header(e,r))}getEntityAccessRequirementsQueryKey(e){return this.getKey(...F.accessRequirements(e))}getEntityHeadersQueryKey(e){return this.getKey(...F.headers(e))}getAllTableQueryResultsKey(){return this.getKey(F.all,{type:"tableQueryResult"})}getEntityTableQueryResultQueryKey(e,r){return this.getKey(...F.tableQueryResult(e,r))}getEntityTableQueryResultWithAsyncStatusQueryKey(e,r){return this.getKey(...F.tableQueryResultWithAsyncStatus(e,r))}getFullTableQueryResultQueryKey(e,r){return this.getKey(...F.fullTableQueryResult(e,r))}getDownloadListBaseQueryKey(){return this.getKey(Oe.base)}getDownloadListAvailableFilesQueryKey(e){return this.getKey(...Oe.availableFiles(e))}getDownloadListAvailableFilesInfiniteQueryKey(e){return this.getKey(...Oe.availableFilesInfinite(e))}getDownloadListActionsRequiredQueryKey(){return this.getKey(...Oe.getActionsRequired())}getDownloadListActionsRequiredInfiniteQueryKey(){return this.getKey(...Oe.getActionsRequiredInfinite())}getDownloadListStatisticsQueryKey(){return this.getKey(...Oe.getStatistics())}searchAccessApprovalsQueryKey(e){return this.getKey("accessApprovalSearch",e)}getAccessRequirementQueryKey(e){return this.getKey(_e,e)}getAccessRequirementAclQueryKey(e){return this.getKey(_e,e,"acl")}searchAccessRequirementsQueryKey(e){return this.getKey(_e,"search",e)}getAccessRequirementWikiPageKey(e){return this.getKey(_e,e,"wikiPageKey")}getAccessRequirementRestrictionInformationQueryKey(e){return this.getKey(_e,"restrictionInformation",e)}getAllAccessRequirementStatusesQueryKey(){return this.getKey(_e,"status")}getAccessRequirementStatusQueryKey(e){return this.getKey(_e,"status",e)}getDataAccessRequestForUpdateQueryKey(e){return this.getKey(_e,e,"dataAccessRequestForUpdate")}getAccessRequirementResearchProjectQueryKey(e){return this.getKey(_e,e,"researchProject")}getSortedAccessRequirementsAndStatusQueryKey(e){return this.getKey(_e,"sortedByStatus",e)}getDataAccessSubmissionQueryKey(e){return this.getKey("dataAccessSubmission",e)}searchDataAccessSubmissionQueryKey(e){return this.getKey("accessSubmissionSearch",e)}getApprovedSubmissionInfoQueryKey(e){return this.getKey("approvedSubmissionInfo",e)}getValidationSchemaQueryKey(e){return this.getKey("validationSchema",e)}getPresignedUrlContentQueryKey(e,r,n){return this.getKey("presignedUrlContent",e,r,n)}getPresignedUrlFromFHAContentQueryKey(e,r){return this.getKey("presignedUrlContentFromFHA",e,r)}getProfileImageQueryKey(e){return this.getKey("profileImageData",e)}getDefaultUploadDestinationQueryKey(e){return this.getKey("uploadDestination","default",e)}getUploadDestinationForStorageLocationQueryKey(e,r){return this.getKey("uploadDestination",e,r)}getForumModeratorsQueryKey(e){return this.getKey("moderators",e)}getForumMetadataQueryKey(e){return this.getKey("forumThread",e,"metadata")}getAllForumThreadsQueryKey(e){return this.getKey("forumthread",e)}getForumThreadsQueryKey(e,r,n,s,i){return this.getKey("forumthread",e,{limit:r,filter:i,sort:n,ascending:s})}getAllRepliesQueryKey(e){return this.getKey("reply",e)}getRepliesQueryKey(e,r,n,s,i){return this.getKey("reply",e,{limit:n,filter:i,sort:s,ascending:r})}getReplyQueryKey(e,r,n){return this.getKey("reply",e,{replyId:r,messageKey:n})}getThreadQueryKey(e){return this.getKey("thread",e)}getThreadBodyQueryKey(e,r){return this.getKey("thread",e,r)}getMyOAuthClientsQueryKey(){return this.getKey("oauthClient")}getDOIAssociationQueryKey(e,r,n){return this.getKey(["doi","association",e,r,n])}getAllSubscribersQueryKey(){return this.getKey("subscribers")}getSubscribersQueryKey(e,r){return this.getKey("subscribers",e,r)}getBaseSubscriptionQueryKey(){return this.getKey("subscription")}getAllSubscriptionsQueryKey(e){return this.getKey("subscription","all",e)}getSubscriptionQueryKey(e,r){return this.getKey("subscription",e,r)}getSearchEntitiesQueryKey(e){return this.getKey("searchEntities",e)}getTeamQueryKey(e){return this.getKey("team",e)}getTeamListQueryKey(e){return this.getKey("team",e,"teamList")}getChallengeTeamListQueryKey(e){return this.getKey("challenge",e,"teamList")}getTeamMembersQueryKey(e){return this.getKey("team",e,"membersList")}getIsUserMemberOfTeamQueryKey(e,r){return this.getKey("team",e,"member",r)}getMembershipStatusQueryKey(e,r){return this.getKey("team",e,"membershipStatus",r)}getAllOpenMembershipInvitationsForUserQueryKey(e){return this.getKey("openMembershipInvitations",e)}getTeamAccessRequirementsQueryKey(e){return this.getKey("team",e,"accessRequirements")}getFavoritesQueryKey(){return this.getKey("favorites")}getUserFavoritesQueryKey(e,r){return this.getKey("favorites",e,r)}getUserFavoritesInfiniteQueryKey(e,r){return this.getKey("favorites","infinite",e,r)}getTrashCanItemsQueryKey(){return this.getKey("trashCan","list")}getUserChallengesQueryKey(e){return this.getKey("userChallenges",e)}getPassingRecordQueryKey(e){return this.getKey("passingRecord",e)}getAllSubmissionTeamsQueryKeys(){return this.getKey("submissionTeams")}getSubmissionTeamsQueryKey(e,r,n){return this.getKey("submissionTeams",e,{limit:r,offset:n})}getUserProjectsQueryKey(e,r){return this.getKey("userProjects",e,r)}getAllUserTeamsQueryKey(){return this.getKey("userTeams")}getUserTeamsQueryKey(e){return this.getKey("userTeams",e)}getPersonalAccessTokensQueryKey(){return this.getKey("personalAccessTokens")}getMyProjectsQueryKey(e){return this.getKey("myProjects",e)}getNotificationEmailQueryKey(){return this.getKey("notificationEmail")}getCurrentUserProfileQueryKey(){return this.getKey("user","current","profile")}getUserBundleQueryKey(e,r){const n={...r&ps?{isUserProfile:!0}:void 0,...r&gs?{isOrcId:!0}:void 0,...r&ys?{isVerificationSubmission:!0}:void 0,...r&Es?{isCertified:!0}:void 0,...r&ms?{isVerified:!0}:void 0,...r&vs?{isACT:!0}:void 0,...r&Ts?{isARReviewer:!0}:void 0};return this.getKey("user",e,"bundle",n)}getUserProfileQueryKey(e){return this.getKey("user",e,"profile")}getPrincipalAliasQueryKey(e){return this.getKey("principalAlias",e)}getUserGroupHeaderQueryKey(e){return this.getKey("userGroupHeader",e)}getUserGroupHeaderBatchQueryKey(e){return this.getKey("userGroupHeaderBatch",e)}getUserGroupHeaderWithAliasQueryKey(e){return this.getKey("userGroupHeader",e)}getUserGroupHeaderSearchQueryKey(e,r){return this.getKey("userGroupHeader","search",e,r)}getTwoFactorAuthStatusQueryKey(){return this.getKey("twoFactorAuthStatus")}getBatchOfFiles(e){return this.getKey("fileBatch",e)}getPaginatedDockerTagQueryKey(e,r,n,s,i){return this.getKey("dockerTag",e,r,n,s,i)}getDefaultColumnModelsQueryKey(e,r){return this.getKey("defaultColumnModels",e,r)}getAnnotationColumnModelsQueryKey(e){return this.getKey("annotationColumnModels",e)}getEvaluationByIdQueryKey(e){return this.getKey("evaluation",e)}getEvaluationsQueryKey(e){return this.getKey("evaluation","paginated",e)}}const Qf={accessToken:void 0,isInExperimentalMode:!1,utcTime:!1,withErrorBoundary:!1,keyFactory:new Ni(void 0),downloadCartPageUrl:"/DownloadCart"},Ft=V.createContext(Qf);function ar(t){const{children:e,synapseContext:r}=t,n=K.useMemo(()=>new Ni(r.accessToken),[r.accessToken]),s=K.useMemo(()=>({accessToken:r.accessToken,isInExperimentalMode:r.isInExperimentalMode??!1,utcTime:r.utcTime??!1,withErrorBoundary:r.withErrorBoundary??!1,downloadCartPageUrl:r.downloadCartPageUrl??"/DownloadCart",keyFactory:r.keyFactory??n}),[r.accessToken,r.downloadCartPageUrl,r.isInExperimentalMode,r.keyFactory,r.utcTime,r.withErrorBoundary,n]);return U.jsx(Ft.Provider,{value:s,children:s!=null&&s.withErrorBoundary?U.jsx(jr,{children:e}):e})}const kn=Ft.Consumer;function we(){const t=K.useContext(Ft);if(t===void 0)throw new Error("useSynapseContext must be used within a SynapseContextProvider");return t}try{ar.displayName="SynapseContextProvider",ar.__docgenInfo={description:`Provides context necessary for most components in SRC.

The SynapseContextProvider must be wrapped in a react-query QueryClientProvider.`,displayName:"SynapseContextProvider",props:{synapseContext:{defaultValue:null,description:"",name:"synapseContext",required:!0,type:{name:"Partial<SynapseContextType>"}}}}}catch{}try{Ft.displayName="SynapseContext",Ft.__docgenInfo={description:"This must be exported to use the context in class components.",displayName:"SynapseContext",props:{}}}catch{}try{kn.displayName="SynapseContextConsumer",kn.__docgenInfo={description:"",displayName:"SynapseContextConsumer",props:{}}}catch{}const qf={defaultOptions:{queries:{staleTime:1e3*60*5,gcTime:1e3*60*30,retry:!1,refetchOnWindowFocus:!1}}},kf=new va(qf);function Vn(t){const{children:e,synapseContext:r,queryClient:n,theme:s}=t;return U.jsx(_a,{client:n??kf,children:U.jsx(Kr,{theme:s,children:U.jsx(ar,{synapseContext:r,children:e})})})}try{Vn.displayName="FullContextProvider",Vn.__docgenInfo={description:`Provides all context necessary for components in SRC.
Contexts include
- SynapseContext
- QueryClientContext (react-query)
- ThemeContext (@mui)`,displayName:"FullContextProvider",props:{synapseContext:{defaultValue:null,description:"",name:"synapseContext",required:!0,type:{name:"Partial<SynapseContextType>"}},queryClient:{defaultValue:null,description:"",name:"queryClient",required:!1,type:{name:"QueryClient"}},theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"ThemeOptions"}}}}}catch{}function Vf(t={}){const{onSignInComplete:e,registerAccountUrl:r=`${zi.PORTAL}#!RegisterAccount:0`,onError:n,onTwoFactorAuthRequired:s}=t,i=di(),c=new URL(window.location.href),{searchParams:l}=c,m=l==null?void 0:l.get("code"),g=l==null?void 0:l.get("provider"),E=l==null?void 0:l.get("state"),{accessToken:T}=we(),[v,P]=K.useState(!!(m&&g));return K.useEffect(()=>{if(m&&g){const A=`${i}?provider=${g}`;if(Jt.ORCID==g&&T!==void 0){const D=O=>{console.error("Error binding ORCiD to account: ",O),n&&n(O.reason)};Ai(g,m,A,u.REPO_ENDPOINT).then(e).catch(D).finally(()=>P(!1))}else if(Jt.GOOGLE==g||Jt.ORCID==g){const D=p=>{p&&("accessToken"in p?cn(p.accessToken).then(e):s&&s(p))},O=p=>{p.status===404&&window.location.replace(r),console.error("Error with account login: ",p),n&&n(p.reason)};Jt.GOOGLE==g&&E?Ii(E,g,m,A,u.REPO_ENDPOINT).then(D).catch(O).finally(()=>P(!1)):pi(g,m,A,u.REPO_ENDPOINT).then(D).catch(O).finally(()=>P(!1))}else console.warn("Unknown SSO Provider: ",g),P(!1)}},[]),{isLoading:v}}function jf(t,e){const r=localStorage.getItem(Pn);localStorage.removeItem(Pn);const n=r??e;n&&(t?n.startsWith(window.location.origin)?t.replace(n.substring(window.location.origin.length)):t.replace(n):window.location.replace(n))}const Ci=V.createContext(void 0);function Hr(t){const{context:e,children:r}=t;return U.jsx(Ci.Provider,{value:e,children:r})}const jn=Ci.Consumer;try{Hr.displayName="ApplicationSessionContextProvider",Hr.__docgenInfo={description:"",displayName:"ApplicationSessionContextProvider",props:{context:{defaultValue:null,description:"",name:"context",required:!0,type:{name:"ApplicationSessionContextType"}}}}}catch{}try{jn.displayName="ApplicationSessionContextConsumer",jn.__docgenInfo={description:"",displayName:"ApplicationSessionContextConsumer",props:{}}}catch{}function er(t){return t.charAt(0)==="/"}function vr(t,e){for(var r=e,n=r+1,s=t.length;n<s;r+=1,n+=1)t[r]=t[n];t.pop()}function Hf(t,e){e===void 0&&(e="");var r=t&&t.split("/")||[],n=e&&e.split("/")||[],s=t&&er(t),i=e&&er(e),c=s||i;if(t&&er(t)?n=r:r.length&&(n.pop(),n=n.concat(r)),!n.length)return"/";var l;if(n.length){var m=n[n.length-1];l=m==="."||m===".."||m===""}else l=!1;for(var g=0,E=n.length;E>=0;E--){var T=n[E];T==="."?vr(n,E):T===".."?(vr(n,E),g++):g&&(vr(n,E),g--)}if(!c)for(;g--;g)n.unshift("..");c&&n[0]!==""&&(!n[0]||!er(n[0]))&&n.unshift("");var v=n.join("/");return l&&v.substr(-1)!=="/"&&(v+="/"),v}function Dt(t){return t.charAt(0)==="/"?t:"/"+t}function Hn(t){return t.charAt(0)==="/"?t.substr(1):t}function Wf(t,e){return t.toLowerCase().indexOf(e.toLowerCase())===0&&"/?#".indexOf(t.charAt(e.length))!==-1}function Di(t,e){return Wf(t,e)?t.substr(e.length):t}function wi(t){return t.charAt(t.length-1)==="/"?t.slice(0,-1):t}function Gf(t){var e=t||"/",r="",n="",s=e.indexOf("#");s!==-1&&(n=e.substr(s),e=e.substr(0,s));var i=e.indexOf("?");return i!==-1&&(r=e.substr(i),e=e.substr(0,i)),{pathname:e,search:r==="?"?"":r,hash:n==="#"?"":n}}function pe(t){var e=t.pathname,r=t.search,n=t.hash,s=e||"/";return r&&r!=="?"&&(s+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(s+=n.charAt(0)==="#"?n:"#"+n),s}function ve(t,e,r,n){var s;typeof t=="string"?(s=Gf(t),s.state=e):(s=ae({},t),s.pathname===void 0&&(s.pathname=""),s.search?s.search.charAt(0)!=="?"&&(s.search="?"+s.search):s.search="",s.hash?s.hash.charAt(0)!=="#"&&(s.hash="#"+s.hash):s.hash="",e!==void 0&&s.state===void 0&&(s.state=e));try{s.pathname=decodeURI(s.pathname)}catch(i){throw i instanceof URIError?new URIError('Pathname "'+s.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):i}return r&&(s.key=r),n?s.pathname?s.pathname.charAt(0)!=="/"&&(s.pathname=Hf(s.pathname,n.pathname)):s.pathname=n.pathname:s.pathname||(s.pathname="/"),s}function pn(){var t=null;function e(c){return t=c,function(){t===c&&(t=null)}}function r(c,l,m,g){if(t!=null){var E=typeof t=="function"?t(c,l):t;typeof E=="string"?typeof m=="function"?m(E,g):g(!0):g(E!==!1)}else g(!0)}var n=[];function s(c){var l=!0;function m(){l&&c.apply(void 0,arguments)}return n.push(m),function(){l=!1,n=n.filter(function(g){return g!==m})}}function i(){for(var c=arguments.length,l=new Array(c),m=0;m<c;m++)l[m]=arguments[m];n.forEach(function(g){return g.apply(void 0,l)})}return{setPrompt:e,confirmTransitionTo:r,appendListener:s,notifyListeners:i}}var Ui=!!(typeof window<"u"&&window.document&&window.document.createElement);function Li(t,e){e(window.confirm(t))}function Yf(){var t=window.navigator.userAgent;return(t.indexOf("Android 2.")!==-1||t.indexOf("Android 4.0")!==-1)&&t.indexOf("Mobile Safari")!==-1&&t.indexOf("Chrome")===-1&&t.indexOf("Windows Phone")===-1?!1:window.history&&"pushState"in window.history}function zf(){return window.navigator.userAgent.indexOf("Trident")===-1}function Jf(){return window.navigator.userAgent.indexOf("Firefox")===-1}function Xf(t){return t.state===void 0&&navigator.userAgent.indexOf("CriOS")===-1}var Wn="popstate",Gn="hashchange";function Yn(){try{return window.history.state||{}}catch{return{}}}function ey(t){t===void 0&&(t={}),Ui||Ot(!1);var e=window.history,r=Yf(),n=!zf(),s=t,i=s.forceRefresh,c=i===void 0?!1:i,l=s.getUserConfirmation,m=l===void 0?Li:l,g=s.keyLength,E=g===void 0?6:g,T=t.basename?wi(Dt(t.basename)):"";function v(x){var w=x||{},Q=w.key,$=w.state,H=window.location,ee=H.pathname,ce=H.search,Te=H.hash,he=ee+ce+Te;return T&&(he=Di(he,T)),ve(he,$,Q)}function P(){return Math.random().toString(36).substr(2,E)}var A=pn();function D(x){ae(de,x),de.length=e.length,A.notifyListeners(de.location,de.action)}function O(x){Xf(x)||a(v(x.state))}function p(){a(v(Yn()))}var y=!1;function a(x){if(y)y=!1,D();else{var w="POP";A.confirmTransitionTo(x,w,m,function(Q){Q?D({action:w,location:x}):o(x)})}}function o(x){var w=de.location,Q=d.indexOf(w.key);Q===-1&&(Q=0);var $=d.indexOf(x.key);$===-1&&($=0);var H=Q-$;H&&(y=!0,G(H))}var h=v(Yn()),d=[h.key];function b(x){return T+pe(x)}function C(x,w){var Q="PUSH",$=ve(x,w,P(),de.location);A.confirmTransitionTo($,Q,m,function(H){if(H){var ee=b($),ce=$.key,Te=$.state;if(r)if(e.pushState({key:ce,state:Te},null,ee),c)window.location.href=ee;else{var he=d.indexOf(de.location.key),Ve=d.slice(0,he+1);Ve.push($.key),d=Ve,D({action:Q,location:$})}else window.location.href=ee}})}function q(x,w){var Q="REPLACE",$=ve(x,w,P(),de.location);A.confirmTransitionTo($,Q,m,function(H){if(H){var ee=b($),ce=$.key,Te=$.state;if(r)if(e.replaceState({key:ce,state:Te},null,ee),c)window.location.replace(ee);else{var he=d.indexOf(de.location.key);he!==-1&&(d[he]=$.key),D({action:Q,location:$})}else window.location.replace(ee)}})}function G(x){e.go(x)}function Y(){G(-1)}function Ne(){G(1)}var ke=0;function ue(x){ke+=x,ke===1&&x===1?(window.addEventListener(Wn,O),n&&window.addEventListener(Gn,p)):ke===0&&(window.removeEventListener(Wn,O),n&&window.removeEventListener(Gn,p))}var re=!1;function rt(x){x===void 0&&(x=!1);var w=A.setPrompt(x);return re||(ue(1),re=!0),function(){return re&&(re=!1,ue(-1)),w()}}function yr(x){var w=A.appendListener(x);return ue(1),function(){ue(-1),w()}}var de={length:e.length,action:"POP",location:h,createHref:b,push:C,replace:q,go:G,goBack:Y,goForward:Ne,block:rt,listen:yr};return de}var zn="hashchange",Zf={hashbang:{encodePath:function(e){return e.charAt(0)==="!"?e:"!/"+Hn(e)},decodePath:function(e){return e.charAt(0)==="!"?e.substr(1):e}},noslash:{encodePath:Hn,decodePath:Dt},slash:{encodePath:Dt,decodePath:Dt}};function Fi(t){var e=t.indexOf("#");return e===-1?t:t.slice(0,e)}function bt(){var t=window.location.href,e=t.indexOf("#");return e===-1?"":t.substring(e+1)}function ep(t){window.location.hash=t}function Tr(t){window.location.replace(Fi(window.location.href)+"#"+t)}function ty(t){t===void 0&&(t={}),Ui||Ot(!1);var e=window.history;Jf();var r=t,n=r.getUserConfirmation,s=n===void 0?Li:n,i=r.hashType,c=i===void 0?"slash":i,l=t.basename?wi(Dt(t.basename)):"",m=Zf[c],g=m.encodePath,E=m.decodePath;function T(){var w=E(bt());return l&&(w=Di(w,l)),ve(w)}var v=pn();function P(w){ae(x,w),x.length=e.length,v.notifyListeners(x.location,x.action)}var A=!1,D=null;function O(w,Q){return w.pathname===Q.pathname&&w.search===Q.search&&w.hash===Q.hash}function p(){var w=bt(),Q=g(w);if(w!==Q)Tr(Q);else{var $=T(),H=x.location;if(!A&&O(H,$)||D===pe($))return;D=null,y($)}}function y(w){if(A)A=!1,P();else{var Q="POP";v.confirmTransitionTo(w,Q,s,function($){$?P({action:Q,location:w}):a(w)})}}function a(w){var Q=x.location,$=b.lastIndexOf(pe(Q));$===-1&&($=0);var H=b.lastIndexOf(pe(w));H===-1&&(H=0);var ee=$-H;ee&&(A=!0,Y(ee))}var o=bt(),h=g(o);o!==h&&Tr(h);var d=T(),b=[pe(d)];function C(w){var Q=document.querySelector("base"),$="";return Q&&Q.getAttribute("href")&&($=Fi(window.location.href)),$+"#"+g(l+pe(w))}function q(w,Q){var $="PUSH",H=ve(w,void 0,void 0,x.location);v.confirmTransitionTo(H,$,s,function(ee){if(ee){var ce=pe(H),Te=g(l+ce),he=bt()!==Te;if(he){D=ce,ep(Te);var Ve=b.lastIndexOf(pe(x.location)),Tn=b.slice(0,Ve+1);Tn.push(ce),b=Tn,P({action:$,location:H})}else P()}})}function G(w,Q){var $="REPLACE",H=ve(w,void 0,void 0,x.location);v.confirmTransitionTo(H,$,s,function(ee){if(ee){var ce=pe(H),Te=g(l+ce),he=bt()!==Te;he&&(D=ce,Tr(Te));var Ve=b.indexOf(pe(x.location));Ve!==-1&&(b[Ve]=ce),P({action:$,location:H})}})}function Y(w){e.go(w)}function Ne(){Y(-1)}function ke(){Y(1)}var ue=0;function re(w){ue+=w,ue===1&&w===1?window.addEventListener(zn,p):ue===0&&window.removeEventListener(zn,p)}var rt=!1;function yr(w){w===void 0&&(w=!1);var Q=v.setPrompt(w);return rt||(re(1),rt=!0),function(){return rt&&(rt=!1,re(-1)),Q()}}function de(w){var Q=v.appendListener(w);return re(1),function(){re(-1),Q()}}var x={length:e.length,action:"POP",location:d,createHref:C,push:q,replace:G,go:Y,goBack:Ne,goForward:ke,block:yr,listen:de};return x}function Jn(t,e,r){return Math.min(Math.max(t,e),r)}function tp(t){t===void 0&&(t={});var e=t,r=e.getUserConfirmation,n=e.initialEntries,s=n===void 0?["/"]:n,i=e.initialIndex,c=i===void 0?0:i,l=e.keyLength,m=l===void 0?6:l,g=pn();function E(C){ae(b,C),b.length=b.entries.length,g.notifyListeners(b.location,b.action)}function T(){return Math.random().toString(36).substr(2,m)}var v=Jn(c,0,s.length-1),P=s.map(function(C){return typeof C=="string"?ve(C,void 0,T()):ve(C,void 0,C.key||T())}),A=pe;function D(C,q){var G="PUSH",Y=ve(C,q,T(),b.location);g.confirmTransitionTo(Y,G,r,function(Ne){if(Ne){var ke=b.index,ue=ke+1,re=b.entries.slice(0);re.length>ue?re.splice(ue,re.length-ue,Y):re.push(Y),E({action:G,location:Y,index:ue,entries:re})}})}function O(C,q){var G="REPLACE",Y=ve(C,q,T(),b.location);g.confirmTransitionTo(Y,G,r,function(Ne){Ne&&(b.entries[b.index]=Y,E({action:G,location:Y}))})}function p(C){var q=Jn(b.index+C,0,b.entries.length-1),G="POP",Y=b.entries[q];g.confirmTransitionTo(Y,G,r,function(Ne){Ne?E({action:G,location:Y,index:q}):E()})}function y(){p(-1)}function a(){p(1)}function o(C){var q=b.index+C;return q>=0&&q<b.entries.length}function h(C){return C===void 0&&(C=!1),g.setPrompt(C)}function d(C){return g.appendListener(C)}var b={length:P.length,action:"POP",location:P[v],index:v,entries:P,createHref:A,push:D,replace:O,go:p,goBack:y,goForward:a,canGo:o,block:h,listen:d};return b}var St={exports:{}},rp=Array.isArray||function(t){return Object.prototype.toString.call(t)=="[object Array]"},ur=rp;St.exports=Mi;St.exports.parse=gn;St.exports.compile=sp;St.exports.tokensToFunction=xi;St.exports.tokensToRegExp=$i;var np=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function gn(t,e){for(var r=[],n=0,s=0,i="",c=e&&e.delimiter||"/",l;(l=np.exec(t))!=null;){var m=l[0],g=l[1],E=l.index;if(i+=t.slice(s,E),s=E+m.length,g){i+=g[1];continue}var T=t[s],v=l[2],P=l[3],A=l[4],D=l[5],O=l[6],p=l[7];i&&(r.push(i),i="");var y=v!=null&&T!=null&&T!==v,a=O==="+"||O==="*",o=O==="?"||O==="*",h=l[2]||c,d=A||D;r.push({name:P||n++,prefix:v||"",delimiter:h,optional:o,repeat:a,partial:y,asterisk:!!p,pattern:d?ap(d):p?".*":"[^"+nr(h)+"]+?"})}return s<t.length&&(i+=t.substr(s)),i&&r.push(i),r}function sp(t,e){return xi(gn(t,e),e)}function ip(t){return encodeURI(t).replace(/[\/?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function op(t){return encodeURI(t).replace(/[?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function xi(t,e){for(var r=new Array(t.length),n=0;n<t.length;n++)typeof t[n]=="object"&&(r[n]=new RegExp("^(?:"+t[n].pattern+")$",En(e)));return function(s,i){for(var c="",l=s||{},m=i||{},g=m.pretty?ip:encodeURIComponent,E=0;E<t.length;E++){var T=t[E];if(typeof T=="string"){c+=T;continue}var v=l[T.name],P;if(v==null)if(T.optional){T.partial&&(c+=T.prefix);continue}else throw new TypeError('Expected "'+T.name+'" to be defined');if(ur(v)){if(!T.repeat)throw new TypeError('Expected "'+T.name+'" to not repeat, but received `'+JSON.stringify(v)+"`");if(v.length===0){if(T.optional)continue;throw new TypeError('Expected "'+T.name+'" to not be empty')}for(var A=0;A<v.length;A++){if(P=g(v[A]),!r[E].test(P))throw new TypeError('Expected all "'+T.name+'" to match "'+T.pattern+'", but received `'+JSON.stringify(P)+"`");c+=(A===0?T.prefix:T.delimiter)+P}continue}if(P=T.asterisk?op(v):g(v),!r[E].test(P))throw new TypeError('Expected "'+T.name+'" to match "'+T.pattern+'", but received "'+P+'"');c+=T.prefix+P}return c}}function nr(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function ap(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function yn(t,e){return t.keys=e,t}function En(t){return t&&t.sensitive?"":"i"}function up(t,e){var r=t.source.match(/\((?!\?)/g);if(r)for(var n=0;n<r.length;n++)e.push({name:n,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return yn(t,e)}function cp(t,e,r){for(var n=[],s=0;s<t.length;s++)n.push(Mi(t[s],e,r).source);var i=new RegExp("(?:"+n.join("|")+")",En(r));return yn(i,e)}function lp(t,e,r){return $i(gn(t,r),e,r)}function $i(t,e,r){ur(e)||(r=e||r,e=[]),r=r||{};for(var n=r.strict,s=r.end!==!1,i="",c=0;c<t.length;c++){var l=t[c];if(typeof l=="string")i+=nr(l);else{var m=nr(l.prefix),g="(?:"+l.pattern+")";e.push(l),l.repeat&&(g+="(?:"+m+g+")*"),l.optional?l.partial?g=m+"("+g+")?":g="(?:"+m+"("+g+"))?":g=m+"("+g+")",i+=g}}var E=nr(r.delimiter||"/"),T=i.slice(-E.length)===E;return n||(i=(T?i.slice(0,-E.length):i)+"(?:"+E+"(?=$))?"),s?i+="$":i+=n&&T?"":"(?="+E+"|$)",yn(new RegExp("^"+i,En(r)),e)}function Mi(t,e,r){return ur(e)||(r=e||r,e=[]),r=r||{},t instanceof RegExp?up(t,e):ur(t)?cp(t,e,r):lp(t,e,r)}var dp=St.exports;const hp=fs(dp);var Pr=1073741823,Xn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof _n.global<"u"?_n.global:{};function fp(){var t="__global_unique_id__";return Xn[t]=(Xn[t]||0)+1}function pp(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function gp(t){var e=[];return{on:function(n){e.push(n)},off:function(n){e=e.filter(function(s){return s!==n})},get:function(){return t},set:function(n,s){t=n,e.forEach(function(i){return i(t,s)})}}}function yp(t){return Array.isArray(t)?t[0]:t}function Ep(t,e){var r,n,s="__create-react-context-"+fp()+"__",i=function(l){De(m,l);function m(){for(var E,T=arguments.length,v=new Array(T),P=0;P<T;P++)v[P]=arguments[P];return E=l.call.apply(l,[this].concat(v))||this,E.emitter=gp(E.props.value),E}var g=m.prototype;return g.getChildContext=function(){var T;return T={},T[s]=this.emitter,T},g.componentWillReceiveProps=function(T){if(this.props.value!==T.value){var v=this.props.value,P=T.value,A;pp(v,P)?A=0:(A=typeof e=="function"?e(v,P):Pr,A|=0,A!==0&&this.emitter.set(T.value,A))}},g.render=function(){return this.props.children},m}(V.Component);i.childContextTypes=(r={},r[s]=In.object.isRequired,r);var c=function(l){De(m,l);function m(){for(var E,T=arguments.length,v=new Array(T),P=0;P<T;P++)v[P]=arguments[P];return E=l.call.apply(l,[this].concat(v))||this,E.observedBits=void 0,E.state={value:E.getValue()},E.onUpdate=function(A,D){var O=E.observedBits|0;O&D&&E.setState({value:E.getValue()})},E}var g=m.prototype;return g.componentWillReceiveProps=function(T){var v=T.observedBits;this.observedBits=v??Pr},g.componentDidMount=function(){this.context[s]&&this.context[s].on(this.onUpdate);var T=this.props.observedBits;this.observedBits=T??Pr},g.componentWillUnmount=function(){this.context[s]&&this.context[s].off(this.onUpdate)},g.getValue=function(){return this.context[s]?this.context[s].get():t},g.render=function(){return yp(this.props.children)(this.state.value)},m}(V.Component);return c.contextTypes=(n={},n[s]=In.object,n),{Provider:i,Consumer:c}}var mp=V.createContext||Ep,Ki=function(e){var r=mp();return r.displayName=e,r},Bi=Ki("Router-History"),et=Ki("Router"),Qi=function(t){De(e,t),e.computeRootMatch=function(s){return{path:"/",url:"/",params:{},isExact:s==="/"}};function e(n){var s;return s=t.call(this,n)||this,s.state={location:n.history.location},s._isMounted=!1,s._pendingLocation=null,n.staticContext||(s.unlisten=n.history.listen(function(i){s._pendingLocation=i})),s}var r=e.prototype;return r.componentDidMount=function(){var s=this;this._isMounted=!0,this.unlisten&&this.unlisten(),this.props.staticContext||(this.unlisten=this.props.history.listen(function(i){s._isMounted&&s.setState({location:i})})),this._pendingLocation&&this.setState({location:this._pendingLocation})},r.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},r.render=function(){return V.createElement(et.Provider,{value:{history:this.props.history,location:this.state.location,match:e.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},V.createElement(Bi.Provider,{children:this.props.children||null,value:this.props.history}))},e}(V.Component),ry=function(t){De(e,t);function e(){for(var n,s=arguments.length,i=new Array(s),c=0;c<s;c++)i[c]=arguments[c];return n=t.call.apply(t,[this].concat(i))||this,n.history=tp(n.props),n}var r=e.prototype;return r.render=function(){return V.createElement(Qi,{history:this.history,children:this.props.children})},e}(V.Component),vp=function(t){De(e,t);function e(){return t.apply(this,arguments)||this}var r=e.prototype;return r.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},r.componentDidUpdate=function(s){this.props.onUpdate&&this.props.onUpdate.call(this,this,s)},r.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},r.render=function(){return null},e}(V.Component);function ny(t){var e=t.message,r=t.when,n=r===void 0?!0:r;return V.createElement(et.Consumer,null,function(s){if(s||Ot(!1),!n||s.staticContext)return null;var i=s.history.block;return V.createElement(vp,{onMount:function(l){l.release=i(e)},onUpdate:function(l,m){m.message!==e&&(l.release(),l.release=i(e))},onUnmount:function(l){l.release()},message:e})})}var Zn={},Tp=1e4,es=0;function Pp(t,e){var r=""+e.end+e.strict+e.sensitive,n=Zn[r]||(Zn[r]={});if(n[t])return n[t];var s=[],i=hp(t,s,e),c={regexp:i,keys:s};return es<Tp&&(n[t]=c,es++),c}function qi(t,e){e===void 0&&(e={}),(typeof e=="string"||Array.isArray(e))&&(e={path:e});var r=e,n=r.path,s=r.exact,i=s===void 0?!1:s,c=r.strict,l=c===void 0?!1:c,m=r.sensitive,g=m===void 0?!1:m,E=[].concat(n);return E.reduce(function(T,v){if(!v&&v!=="")return null;if(T)return T;var P=Pp(v,{end:i,strict:l,sensitive:g}),A=P.regexp,D=P.keys,O=A.exec(t);if(!O)return null;var p=O[0],y=O.slice(1),a=t===p;return i&&!a?null:{path:v,url:v==="/"&&p===""?"/":p,isExact:a,params:D.reduce(function(o,h,d){return o[h.name]=y[d],o},{})}},null)}function Op(t){return V.Children.count(t)===0}var sy=function(t){De(e,t);function e(){return t.apply(this,arguments)||this}var r=e.prototype;return r.render=function(){var s=this;return V.createElement(et.Consumer,null,function(i){i||Ot(!1);var c=s.props.location||i.location,l=s.props.computedMatch?s.props.computedMatch:s.props.path?qi(c.pathname,s.props):i.match,m=ae({},i,{location:c,match:l}),g=s.props,E=g.children,T=g.component,v=g.render;return Array.isArray(E)&&Op(E)&&(E=null),V.createElement(et.Provider,{value:m},m.match?E?typeof E=="function"?E(m):E:T?V.createElement(T,m):v?v(m):null:typeof E=="function"?E(m):null)})},e}(V.Component);function mn(t){return t.charAt(0)==="/"?t:"/"+t}function Rp(t,e){return t?ae({},e,{pathname:mn(t)+e.pathname}):e}function _p(t,e){if(!t)return e;var r=mn(t);return e.pathname.indexOf(r)!==0?e:ae({},e,{pathname:e.pathname.substr(r.length)})}function ts(t){return typeof t=="string"?t:pe(t)}function Or(t){return function(){Ot(!1)}}function rs(){}V.Component;var iy=function(t){De(e,t);function e(){return t.apply(this,arguments)||this}var r=e.prototype;return r.render=function(){var s=this;return V.createElement(et.Consumer,null,function(i){i||Ot(!1);var c=s.props.location||i.location,l,m;return V.Children.forEach(s.props.children,function(g){if(m==null&&V.isValidElement(g)){l=g;var E=g.props.path||g.props.from;m=E?qi(c.pathname,ae({},g.props,{path:E})):i.match}}),m?V.cloneElement(l,{location:c,computedMatch:m}):null})},e}(V.Component),vn=V.useContext;function Ip(){return vn(Bi)}function oy(){return vn(et).location}function ay(){var t=vn(et).match;return t?t.params:{}}function ns(t){const{children:e,downloadCartPageUrl:r,onResetSessionComplete:n,maxAge:s,onNoAccessTokenFound:i,forceRelogin:c}=t,l=Ip(),[m,g]=K.useState(void 0),[E,T]=K.useState(void 0),[v,P]=K.useState(!1),[A,D]=K.useState(void 0),O=K.useCallback(()=>{i&&i(),oe.signOut().then(()=>{g(void 0),T(void 0),P(!0)})},[i]),p=K.useCallback(async()=>{D(void 0);let o;try{if(o=await oe.getAccessTokenFromCookie(),!o){O();return}}catch(h){console.error("Unable to get the access token: ",h),O();return}if(s){const h=await oe.getAuthenticatedOn(o),d=Rn.utc(h.authenticatedOn);if(Rn.utc().diff(d,"seconds")>s){P(!0);return}}g(o),P(!0);try{await oe.getUserProfile(o),T(!0)}catch(h){h&&h.reason=="Terms of use have not been signed."?T(!1):(console.error("Error on refreshSession: ",h),oe.signOut().then(()=>{window.location.reload()}))}},[O,s]),y=K.useCallback(async()=>{await oe.signOut(),await p(),n&&n()},[p,n]);K.useEffect(()=>{c?y():p()},[]);const{isLoading:a}=Vf({onSignInComplete:()=>{jf(l),p()},onTwoFactorAuthRequired:o=>{D(o)}});return U.jsx(Hr,{context:{token:m,acceptsTermsOfUse:E,refreshSession:p,clearSession:y,isLoadingSSO:a,twoFactorAuthSSOErrorResponse:A,hasInitializedSession:v},children:U.jsx(ar,{synapseContext:{accessToken:m,isInExperimentalMode:oe.isInSynapseExperimentalMode(),utcTime:oe.getUseUtcTimeFromCookie(),downloadCartPageUrl:r},children:e})})}try{ns.displayName="ApplicationSessionManager",ns.__docgenInfo={description:`The ApplicationSessionManager will manage Synapse user session in an app. The goal is that any custom app should
just be able to add this component near the top of its component tree and have the full Synapse login lifecycle managed
while exposing minimal complexity to the app itself.

Custom per-app behavior should be customized with generalizable props to this component.

The session data can be accessed with useApplicationSessionContext.

This component must be called within a react-router Router. ApplicationSessionManager also wraps all of its children
in a SynapseContextProvider.`,displayName:"ApplicationSessionManager",props:{downloadCartPageUrl:{defaultValue:null,description:"",name:"downloadCartPageUrl",required:!1,type:{name:"string"}},maxAge:{defaultValue:null,description:"",name:"maxAge",required:!1,type:{name:"number"}},onResetSessionComplete:{defaultValue:null,description:"",name:"onResetSessionComplete",required:!1,type:{name:"(() => void)"}},onNoAccessTokenFound:{defaultValue:null,description:"",name:"onNoAccessTokenFound",required:!1,type:{name:"(() => void)"}},forceRelogin:{defaultValue:null,description:"",name:"forceRelogin",required:!1,type:{name:"boolean"}}}}}catch{}export{mi as $,ri as A,Yg as B,kl as C,Wl as D,du as E,Vn as F,Ga as G,Nl as H,ey as I,Qi as J,ty as K,et as L,pe as M,qi as N,ve as O,ta as P,Fg as Q,Ju as R,kn as S,jr as T,Js as U,st as V,va as W,qf as X,Vf as Y,_a as Z,ry as _,ar as a,_f as a$,bc as a0,wl as a1,cd as a2,li as a3,Za as a4,qe as a5,ag as a6,tu as a7,cu as a8,Hs as a9,Pg as aA,Qr as aB,Kf as aC,Mf as aD,Ef as aE,mf as aF,cc as aG,Sg as aH,uc as aI,Tu as aJ,en as aK,Eu as aL,vu as aM,tn as aN,wu as aO,zs as aP,Uu as aQ,Pu as aR,ug as aS,zu as aT,ni as aU,Yu as aV,ec as aW,$n as aX,fu as aY,hu as aZ,fr as a_,au as aa,ru as ab,Ug as ac,bd as ad,Gt as ae,Z as af,Ls as ag,Ta as ah,Ia as ai,ba as aj,Ua as ak,Ca as al,Da as am,La as an,Fa as ao,og as ap,wa as aq,Ir as ar,wt as as,ya as at,Na as au,ma as av,sg as aw,ig as ax,xa as ay,ai as az,Cu as b,bf as b$,Lg as b0,uf as b1,lf as b2,cf as b3,Mh as b4,Ch as b5,Fh as b6,Nc as b7,Kh as b8,Wh as b9,Ig as bA,oy as bB,Ip as bC,iy as bD,sy as bE,ay as bF,Xg as bG,ks as bH,zo as bI,Si as bJ,Wg as bK,xg as bL,$g as bM,Bg as bN,Qg as bO,qg as bP,kg as bQ,Vg as bR,jg as bS,Hg as bT,Mg as bU,Kg as bV,Gg as bW,Jl as bX,zl as bY,Xl as bZ,Yl as b_,an as ba,Fc as bb,xc as bc,Ft as bd,Oi as be,vg as bf,lg as bg,lc as bh,wg as bi,ac as bj,Ac as bk,Kn as bl,Og as bm,Wd as bn,Uc as bo,hr as bp,It as bq,ju as br,Xs as bs,rn as bt,Jg as bu,gi as bv,Ml as bw,fi as bx,fg as by,pc as bz,Su as c,Lf as c0,Rg as c1,ny as c2,mc as c3,dg as c4,cg as c5,qr as c6,pg as c7,Cg as c8,Tg as c9,yg as ca,gg as cb,Ag as cc,hg as cd,Vl as ce,_t as d,Du as e,Xu as f,bg as g,we as h,Ng as i,Qc as j,yi as k,Rt as l,oe as m,Ra as n,Dg as o,ui as p,Eg as q,mg as r,Pl as s,_g as t,Zg as u,Ff as v,xf as w,Ul as x,zg as y,or as z};
