import{u as A}from"./useQueries-bd360569.js";import{ae as R,h as u,m as y,n,l as o}from"./ApplicationSessionManager-cde90ea0.js";import{u as m}from"./useMutation-356b06b5.js";import{u as k}from"./useInfiniteQuery-1e8d33dc.js";import"./getEndpoint-ac94413e.js";import"./OrientationBanner-7be8199b.js";import"./index-76fb7be0.js";import"./jsx-runtime-9dc53467.js";import{u as g}from"./useTheme-e79ecbc0.js";import{u as F}from"./useMediaQuery-009aa540.js";import{s as f}from"./sortBy-0326211f.js";const K=async(e,t)=>{const s=t.map(r=>R(e,r)),c=await Promise.all(s);return f(t,r=>-1*Number(c.find(a=>r===a.accessRequirementId).isApproved))};function p(){const e=g();return F(e.breakpoints.up("md"))}function v(e,t){const{accessToken:s,keyFactory:c}=u();return y({...t,queryKey:c.getAccessRequirementQueryKey(String(e)),queryFn:()=>n.getAccessRequirementById(s,e)})}function j(e,t){const{accessToken:s,keyFactory:c}=u();return y({...t,queryKey:c.getEntityAccessRequirementsQueryKey(e),queryFn:()=>n.getAllAccessRequirements(s,e)})}function B(e,t){const{accessToken:s,keyFactory:c}=u();return y({...t,queryKey:c.getTeamAccessRequirementsQueryKey(e),queryFn:()=>n.getTeamAccessRequirements(s,e)})}function U(e,t){const{accessToken:s,keyFactory:c}=u();return y({...t,queryKey:c.getAccessRequirementWikiPageKey(e),queryFn:()=>n.getWikiPageKeyForAccessRequirement(s,e)})}function x(e,t){const{accessToken:s,keyFactory:c}=u();return y({...t,queryKey:c.getAccessRequirementAclQueryKey(e),queryFn:()=>n.getAccessRequirementAcl(s,e)})}function W(e,t){const{accessToken:s,keyFactory:c}=u();return k({...t,queryKey:c.searchAccessRequirementsQueryKey(e),queryFn:async r=>await n.searchAccessRequirements(s,{...e,nextPageToken:r.pageParam}),initialPageParam:void 0,getNextPageParam:r=>r.nextPageToken})}function I(e,t){const{accessToken:s,keyFactory:c}=u();return y({...t,queryKey:c.getAccessRequirementRestrictionInformationQueryKey(e),queryFn:()=>n.getRestrictionInformation(e,s)})}function L(e){const{accessToken:t}=u(),s=o(),{keyFactory:c}=u();return m({...e,mutationFn:r=>n.createLockAccessRequirement(r,t),mutationKey:["createLockAccessRequirement"],onSuccess:async(r,a,i)=>{if(await s.invalidateQueries({queryKey:c.getAccessRequirementQueryKey()}),await s.invalidateQueries({queryKey:c.getAllEntityDataQueryKey()}),e!=null&&e.onSuccess)return e.onSuccess(r,a,i)}})}function q(e,t,s){return{queryKey:e.getAccessRequirementStatusQueryKey(s),queryFn:()=>n.getAccessRequirementStatus(t,s)}}function E(e,t){const{accessToken:s,keyFactory:c}=u();return y({...t,...q(c,s,e)})}function M(e){const{accessToken:t,keyFactory:s}=u();return A({queries:e.map(c=>q(s,t,c))})}function b(e,t){const{accessToken:s,keyFactory:c}=u();return y({...t,queryKey:c.getSortedAccessRequirementsAndStatusQueryKey(e),queryFn:()=>K(s,e)})}function N(e,t){const{accessToken:s,keyFactory:c}=u();return y({...t,queryKey:c.getAccessRequirementResearchProjectQueryKey(e),queryFn:()=>n.getResearchProject(e,s)})}function z(e){const{accessToken:t}=u(),s=o(),{keyFactory:c}=u();return m({...e,mutationFn:r=>n.updateResearchProject(r,t),onSuccess:async(r,a,i)=>{if(await s.invalidateQueries({queryKey:c.getAccessRequirementResearchProjectQueryKey(r.accessRequirementId)}),e!=null&&e.onSuccess)return e.onSuccess(r,a,i)}})}function O(e,t){const{accessToken:s,keyFactory:c}=u();return y({...t,queryKey:c.getDataAccessRequestForUpdateQueryKey(e),queryFn:()=>n.getDataAccessRequestForUpdate(e,s)})}function H(e){const{accessToken:t}=u(),s=o(),{keyFactory:c}=u();return m({...e,mutationFn:r=>n.updateDataAccessRequest(r,t),onSuccess:async(r,a,i)=>{if(await s.invalidateQueries({queryKey:c.getDataAccessRequestForUpdateQueryKey(r.accessRequirementId)}),e!=null&&e.onSuccess)return e.onSuccess(r,a,i)}})}function J(e){const{accessToken:t}=u(),s=o(),{keyFactory:c}=u();return m({...e,mutationFn:r=>n.createAccessApproval(t,r),onSuccess:async(r,a,i)=>{if(await s.invalidateQueries({queryKey:c.getAccessRequirementStatusQueryKey(String(a.requirementId))}),e!=null&&e.onSuccess)return e.onSuccess(r,a,i)}})}function V(e){const{accessToken:t}=u(),s=o(),{keyFactory:c}=u();return m({...e,mutationFn:r=>n.cancelDataAccessRequest(r.submissionId,t),onSuccess:async(r,a,i)=>{if(await s.invalidateQueries({queryKey:c.getAccessRequirementStatusQueryKey(String(a.accessRequirementId))}),e!=null&&e.onSuccess)return e.onSuccess(r,a,i)}})}export{W as a,v as b,x as c,U as d,B as e,M as f,H as g,p as h,N as i,z as j,O as k,E as l,V as m,J as n,j as o,b as p,I as q,L as u};
